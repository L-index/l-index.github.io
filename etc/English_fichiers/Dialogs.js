module({"@NextUtil":"@NextUtil","@UiCore":"@UiCore","css!/build/withme/Dialogs.css":"css!/asset/1937f4d30209406a/build/withme/Dialogs.css"},function(t){var e,i=(e=Handlebars.template,Handlebars.templates=Handlebars.templates||{},e({compiler:[5,">= 2.0.0"],main:function(t,e,i,o){var s;return'<script type="text/template" class="dialog-footer-template">\n    <button class="btn" data-confirm="no">'+(i=this.escapeExpression)("function"==typeof(s=e.no||t&&t.no)?s.call(t,{name:"no",hash:{},data:o}):s)+'</button>\n    <button class="btn btn-primary" data-confirm="yes">'+i("function"==typeof(s=e.yes||t&&t.yes)?s.call(t,{name:"yes",hash:{},data:o}):s)+"</button>\n<\/script>\n"},useData:!0})),o=function(){var t=Handlebars.template;return Handlebars.templates=Handlebars.templates||{},t({1:function(t,e,i,o){var s,n;return i='\n<div class="id-body-contents">',((s="function"==typeof(n=e.html||t&&t.html)?n.call(t,{name:"html",hash:{},data:o}):n)||0===s)&&(i+=s),i+"</div>\n"},3:function(t,e,i,o){var s;return'\n<p class="id-body-contents">'+(0,this.escapeExpression)("function"==typeof(s=e.text||t&&t.text)?s.call(t,{name:"text",hash:{},data:o}):s)+"</p>\n"},5:function(t,e,i,o){var s;i=e.helperMissing;var n='\n<p class="terms-of-service">\n    <span>';return((s=(e["i18n-g"]||t&&t["i18n-g"]||i).call(t,"dialog_for_your_reference_terms_of_service",{name:"i18n-g",hash:{},data:o}))||0===s)&&(n+=s),n+=' <a href="/policy_hub/policy_hub.php" target="_blank">',((s=(e["i18n-g"]||t&&t["i18n-g"]||i).call(t,"Terms of Service",{name:"i18n-g",hash:{},data:o}))||0===s)&&(n+=s),n+"</a>.</span>\n</p>\n"},7:function(t,e,i,o){var s,n;i=this.escapeExpression;var l='\n<div class="dialog-checkbox-container">\n    <input id="dialog-checkbox" type="checkbox" class="checkbox" ';return((s=e.if.call(t,t&&t.checkedByDefault,{name:"if",hash:{},fn:this.program(8,o),inverse:this.noop,data:o}))||0===s)&&(l+=s),l+'><label for="dialog-checkbox">'+i("function"==typeof(n=e.checkbox||t&&t.checkbox)?n.call(t,{name:"checkbox",hash:{},data:o}):n)+"</label>\n</div>\n"},8:function(){return"checked"},10:function(t,e,i,o){var s;return i='\n<div class="dialog-dropdown-container">\n    <select id="dialog-dropdown">\n        ',((s=e.if.call(t,null==(s=t&&t.dropdown)||!1===s?s:s.placeholder,{name:"if",hash:{},fn:this.program(11,o),inverse:this.noop,data:o}))||0===s)&&(i+=s),i+"\n    </select>\n</div>\n"},11:function(t){var e;return'\n        <option class="dropdown-placeholder" value="" disabled selected>'+(0,this.escapeExpression)("function"==typeof(e=null==(e=t&&t.dropdown)||!1===e?e:e.placeholder)?e.apply(t):e)+"</option>\n        "},compiler:[5,">= 2.0.0"],main:function(t,e,i,o){var s,n;i=this.escapeExpression;var l="";return((s=e.if.call(t,t&&t.html,{name:"if",hash:{},fn:this.program(1,o),inverse:this.program(3,o),data:o}))||0===s)&&(l+=s),l+="\n\n",((s=e.if.call(t,t&&t.termsOfService,{name:"if",hash:{},fn:this.program(5,o),inverse:this.noop,data:o}))||0===s)&&(l+=s),l+="\n\n",((s=e.if.call(t,t&&t.checkbox,{name:"if",hash:{},fn:this.program(7,o),inverse:this.noop,data:o}))||0===s)&&(l+=s),l+="\n\n",((s=e.if.call(t,t&&t.dropdown,{name:"if",hash:{},fn:this.program(10,o),inverse:this.noop,data:o}))||0===s)&&(l+=s),l+'\n\n<script type="text/template" class="dialog-footer-template">\n    <button class="btn btn-primary" data-confirm="ok" disabled>'+i("function"==typeof(n=e.ok||t&&t.ok)?n.call(t,{name:"ok",hash:{},data:o}):n)+"</button>\n<\/script>"},useData:!0})}(),s=function(){var t=Handlebars.template;return Handlebars.templates=Handlebars.templates||{},t({compiler:[5,">= 2.0.0"],main:function(){return'<div class="dropdown-label is-truncated"><span>&nbsp;</span></div>\n<div class="dropdown-option-list-container">\n    <div class="dropdown-scroll-up"></div>\n    <div class="dropdown-scroll-down"></div>\n    <ul class="dropdown-option-list">\n        <li class="dropdown-option is-truncated" data-value="" tabindex="-1"></li>\n    </ul>\n</div>\n'},useData:!0})}(),n=(s=function(t){function e(t){t=$(t.target).closest(".dropdown"),$(".dropdown").not(t).each(function(t,e){$(e).data("dropdown-instance").__hide()})}var i=t.UiCore.UiContext,o=t.NextUtil.Keys;return i.extend("Dropdown",{globalSetup:function(){document.addEventListener("click",e,!0),document.addEventListener("touchend",e,!0)},globalTearDown:function(){document.removeEventListener("click",e,!0),document.removeEventListener("touchend",e,!0)},uiContextName:"dropdown",className:"dropdown disable-text-selection",ITEM_HEIGHT:40,AUTO_SCROLL_BY:2,dependencies:["window","timer"],trackedEvents:function(){return[{type:"click",selector:".dropdown-label",name:"dropdown_label_click",handler:"toggleOpen"},{type:"click",selector:".dropdown-option",name:"dropdown_option_click",handler:"clickOption"},{type:"keydown",selector:"",name:"dropdown_keydown",handler:this.__onKeydown.bind(this,[])},{type:"mousemove",selector:".dropdown-option",name:"dropdown_option_mouseenter",handler:this.__onMousemove.bind(this,{x:0,y:0})},{type:"mouseenter",selector:".dropdown-label",name:"dropdown_label_mouseenter",handler:"__onMouseenterLabel"},{type:"mouseenter",selector:".dropdown-scroll-up",name:"dropdown_scroll_up_mouseenter",handler:"__onScrollUpMouseenter"},{type:"mouseleave",selector:".dropdown-scroll-up",name:"dropdown_scroll_up_mouseleave",handler:"__onScrollUpMouseleave"},{type:"mouseenter",selector:".dropdown-scroll-down",name:"dropdown_scroll_down_mouseenter",handler:"__onScrollDownMouseenter"},{type:"mouseleave",selector:".dropdown-scroll-down",name:"dropdown_scroll_down_mouseleave",handler:"__onScrollDownMouseleave"}]},__onMousemove:function(t,e){t.x==e.screenX&&t.y==e.screenY||(t.x=e.screenX,t.y=e.screenY,this.$el.focus(),this.setActiveElement($(e.target)))},__onBlur:function(t){this.$el.removeClass("is-open")},__onMouseenterLabel:function(t){this.$(".is-selected").removeClass("is-selected")},initialize:function(t){if(this.$select=IMVU.requireProperty(t,"$replaceElement"),!this.$select.is("select"))throw Error("$replaceElement must be a <select> element. got: "+this.$select[0].tagName);if(this.$select.closest("label").length)throw Error("do not wrap custom dropdowns with <label> tags; it disrupts event handling");i.prototype.initialize.call(this,t),this.window=t.window,this.timer=t.timer,this.boundingBox=t.boundingBox||this.getDefaultBoundingBox(),this.document=t.document||document,this.__keyArray=[],(this.dismissOnScroll=t.dismissOnScroll)&&$(t.dismissOnScroll).on("scroll.dropdown",function(){this.__hide()}.bind(this)),$(".dropdown-layer").length||$("body").append('<div class="dropdown-layer"/>'),this.$dropdownLayer=$(".dropdown-layer"),t.dimNoValue&&this.$el.addClass("dim-no-value"),this.$el.data("dropdown-instance",this),this.addToDOM()},delete:function(){this.__keyValueArray&&this.timer.clearTimeout(this.__keyValueArray),this.dismissOnScroll&&$(this.dismissOnScroll).off("scroll.dropdown"),$(this.window).off("resize.dropdown"),i.prototype.delete.call(this)},__onHidden:function(){this.$el.is(":visible")&&this.remove(),i.prototype.__onHidden.apply(this,arguments)},getDefaultBoundingBox:function(){var t=this.$el.position().top-5*this.ITEM_HEIGHT,e=t+11*this.ITEM_HEIGHT;return 0>t&&(t=0),e>$(this.window).height()&&(e=$(this.window).height()),{x:0,y:t,w:$(this.window).width(),h:e-t}},render:function(){this.$placeholder=$("<div/>"),this.$el.html(t.template),this.$label=this.$(".dropdown-label"),this.$optionList=this.$(".dropdown-option-list"),this.$optionListContainer=this.$(".dropdown-option-list-container");var e=this.$optionList.find(".dropdown-option");this.$select.addClass("is-enhanced"),this.refreshLabel(this.$select.find(":selected")),e.remove(),this.$select.children().each(function(t,i){var o=e.clone(!0);o.text($(i).text()),o.attr("data-text",$(i).text().toLowerCase()),o.attr("data-value",$(i).val()),this.$optionList.append(o)}.bind(this)),this.$el.addClass(this.$select[0].className).removeClass("dropdown-template").addClass("dropdown"),this.$label.append(this.$select),this.$el.attr("tabindex",this.$select.attr("tabindex")||"0"),this.$select.attr("tabindex",-1),this.$optionList.on("scroll",this.__onScroll.bind(this)),this.$select.on("change",this.__changedOption.bind(this)),this.$el.addClass("is-ready")},__fullHeight:function(){return this.$select.children().length*this.ITEM_HEIGHT},__getSelectedIndex:function(){return this.$select[0].selectedIndex},__getTopEdgeInViewport:function(t){return t.offset().top-$(this.document).scrollTop()},__getComputedInfo:function(){var t=this.__getTopEdgeInViewport(this.$el),e=this.__fullHeight(),i=this.__getSelectedIndex()*this.ITEM_HEIGHT,o=this.getDefaultBoundingBox().y,s=this.getDefaultBoundingBox().y+this.getDefaultBoundingBox().h,n=t-i,l=n+e,a=0;return n<o&&(n=o),l>s&&(a=l-s,l=s,n>o&&(n-=Math.min(n-o,a))),{projectedTopDiff:n-t,computedHeight:l-n,selectedTop:i,maxTop:o,maxBottom:s,fullHeight:e}},__refreshScrollers:function(){var t=this.$optionList[0].scrollHeight-this.$optionList.innerHeight(),e=0<this.$optionList.scrollTop();t=Math.round(this.$optionList.scrollTop())<t;this.$el.toggleClass("can-scroll-up",e).toggleClass("can-scroll-down",t)},isOpen:function(){return this.$el.hasClass("is-open")},__hide:function(){this.isOpen()&&($(this.window).off("resize.dropdown"),this.$el.removeClass("is-open"),this.$placeholder.before(this.$el).detach(),this.$el.removeAttr("style"))},__show:function(){if(!this.isOpen()){$(this.window).on("resize.dropdown",e);var t=this.$el.offset(),i=this.$el.width(),o=this.$el.height(),s=this.$el.css("margin-left"),n=this.$el.css("margin-right"),l=this.$el.css("margin-top"),a=this.$el.css("margin-bottom"),r=this.$el.css("float");this.$placeholder.css({width:i,height:o,"margin-left":s,"margin-right":n,"margin-top":l,"margin-bottom":a,float:r}),this.$el.addClass("is-open").css({top:this.__getTopEdgeInViewport(this.$el),left:t.left,width:i,height:o,"margin-left":0,"margin-right":0,"margin-top":0,"margin-bottom":0}),this.$el=this.$el.before(this.$placeholder).detach(),this.$dropdownLayer.append(this.$el)}},toggleOpen:function(t){return this.isOpen()?this.__hide():(this.__show(),t=this.__getComputedInfo(),this.$optionListContainer.css({top:t.projectedTopDiff,height:t.computedHeight}),this.$el.focus(),t=t.selectedTop+t.projectedTopDiff,this.$optionList.scrollTop(t),this.__lastScrollTop=t,this.setActiveElement(this.$(".dropdown-option").eq(this.__getSelectedIndex())),this.__refreshScrollers()),!1},refreshLabel:function(t){this.$label.find("> span").text(t.text()).toggleClass("no-value",""===t.val())},clickOption:function(t){this.__hide(),this.$select.val($(t.target).attr("data-value")),this.$select.trigger("change"),e(t)},selectByValue:function(t){this.$(".is-selected").removeClass("is-selected"),this.$('.dropdown-option[data-value="'+t+'"]').addClass("is-selected"),this.$("select").val(t),t=this.$("select").find(":selected"),this.refreshLabel(t)},val:function(){return this.$("select").val()},__changedOption:function(t){t=$(t.target).find(":selected"),this.refreshLabel(t)},__maybeScrollOptionIntoView:function(t,e){if(t[0]){var i=this.$el.hasClass("can-scroll-up"),o=this.$el.hasClass("can-scroll-down"),s=this.$optionList,n=s.height(),l=s.offset().top,a=l+n,r=t.outerHeight(),h=t.offset().top,d=h+r,c=h-l+s.scrollTop(),p=n/2-r/2*3;h<l+(i?r:0)?(e&&(c-=p),s.scrollTop(c-(i?this.ITEM_HEIGHT:0))):d>a-(o?r:0)&&(e&&(c+=p),s.scrollTop(c-(n-r)+(o?r:0)))}},__open:function(e){return this.isOpen()&&this.$select.val(this.$optionList.find(".is-selected").attr("data-value")).change(),this.toggleOpen(e),e=this.$optionList.children().eq(this.$select[0].selectedIndex),t.NextUtil.DomHelper.radioClass(e,"is-selected"),e},__moveSelection:function(e){return 0>(e=this.$optionList.children().index(this.$optionList.find(".is-selected"))+e)?e=0:e>this.$select.children().length-1&&(e=this.$select.children().length-1),e=this.$optionList.children().eq(e),t.NextUtil.DomHelper.radioClass(e,"is-selected"),e},setActiveElement:function(e){this.__activeElement=e,t.NextUtil.DomHelper.radioClass(e,"is-selected")},__onKeydown:function(i,s){if(!this.isOpen()&&o.is(s,"VK_ENTER")||!this.isOpen()&&o.is(s,"VK_DOWN"))e(this.$el),this.__open(s);else{var n=this.__activeElement&&this.__activeElement.parent()[0]===this.$optionList[0]?this.__activeElement:this.$(".dropdown-option").first();if(o.is(s,"VK_DOWN"))this.__maybeScrollOptionIntoView(n.next()),n.next()[0]&&this.setActiveElement(n.next());else if(o.is(s,"VK_UP"))this.__maybeScrollOptionIntoView(n.prev()),n.prev()[0]&&this.setActiveElement(n.prev());else if(o.is(s,"VK_ENTER"))this.__hide(),this.$select.val(this.__activeElement.attr("data-value")),this.$select.trigger("change"),e(s);else if(o.is(s,"VK_ESC"))e(this.$el);else{var l=o.getAlphaNumericChar(s);if(!1!==l){var a=n[0];this.__keyValueArray&&this.timer.clearTimeout(this.__keyValueArray),i.push(l);var r=i.join("").toLowerCase();for(this.__keyValueArray=this.timer.setTimeout(function(){i.length=0}.bind(this),1e3);a.nextSibling;)if(a=a.nextSibling,(l=$(a)).attr("data-text")[0]&&t.NextUtil.string.startsWith(l.attr("data-text"),r))return this.isOpen()||this.toggleOpen(s),this.setActiveElement(l),void this.__maybeScrollOptionIntoView(l,l[0]!=n[0].nextSibling&&l[0]!=n[0].prevSibling);for(a=this.$(".dropdown-option")[0];a&&a!=n[0];){if((l=$(a)).attr("data-text")[0]&&t.NextUtil.string.startsWith(l.attr("data-text"),r)){this.isOpen()||this.toggleOpen(s),this.setActiveElement(l),this.__maybeScrollOptionIntoView(l,l[0]!=n[0].nextSibling&&l[0]!=n[0].prevSibling);break}a=a.nextSibling}}}}},__onScroll:function(t){t=this.$optionList.scrollTop(),this.__refreshScrollers(),this.__lastScrollTop=t},__doScrollUp:function(t,e){var i=this.__getComputedInfo(),o=void 0===e?this.AUTO_SCROLL_BY:e;if(this.$optionListContainer.offset().top+this.$optionListContainer.height()+o<i.maxBottom){var s=this.$optionListContainer.height()+o;s>i.fullHeight&&(s=i.fullHeight),this.$optionListContainer.css({height:s}),this.$optionList[0].scrollTop-=o,this.__refreshScrollers(this.$dropdown)}else void 0===e&&(this.$optionList[0].scrollTop-=this.AUTO_SCROLL_BY)},__onScrollUpMouseenter:function(t){this.timer.clearInterval(this.__autoScrollInterval),this.__autoScrollIntervalCounter=0,this.__autoScrollInterval=this.timer.setInterval(function(){this.__doScrollUp(t)}.bind(this),1)},__onScrollUpMouseleave:function(t){this.timer.clearInterval(this.__autoScrollInterval)},__doScrollDown:function(t,e){var i=this.__getComputedInfo(),o=void 0===e?this.AUTO_SCROLL_BY:e;if((n=this.$optionListContainer.offset().top-o)>i.maxTop){var s=this.$optionListContainer.height()+o,n=this.$optionListContainer.position().top-o;s>i.fullHeight?s=i.fullHeight:this.$optionListContainer.css({top:n}),this.$optionListContainer.css({height:s}),this.$optionList[0].scrollTop+=o,this.__refreshScrollers(this.$dropdown)}else void 0===e&&(this.$optionList[0].scrollTop+=this.AUTO_SCROLL_BY)},__onScrollDownMouseenter:function(t){this.timer.clearInterval(this.__autoScrollDownInterval),this.__autoScrollDownIntervalCounter=0,this.__autoScrollDownInterval=this.timer.setInterval(function(){this.__doScrollDown(t)}.bind(this),1)},__onScrollDownMouseleave:function(t){this.timer.clearInterval(this.__autoScrollDownInterval)}})}({UiCore:t["@UiCore"],template:s,NextUtil:t["@NextUtil"]}),function(){var t=Handlebars.template;return Handlebars.templates=Handlebars.templates||{},t({1:function(){return""},3:function(){return" no-header"},compiler:[5,">= 2.0.0"],main:function(t,e,i,o){var s,n;i=this.escapeExpression;var l='<div class="dialog-container ';return((s=e.if.call(t,t&&t.headerIsVisible,{name:"if",hash:{},fn:this.program(1,o),inverse:this.program(3,o),data:o}))||0===s)&&(l+=s),l+'">\n    <a href="#" class="dialog-x"></a>\n    <header class="dialog-header">\n        <h3 class="dialog-title nowrap">'+i("function"==typeof(n=e.title||t&&t.title)?n.call(t,{name:"title",hash:{},data:o}):n)+'</h3>\n    </header>\n    <div class="aux-header"></div>\n    <section class="dialog-body"></section>\n    <footer class="dialog-footer"></footer>\n</div>\n'},useData:!0})}());return{AlloyModalDialog:t=function(t){var e=t.UiCore.UiContext;return e.extend("AlloyModalDialog",{uiContextName:"modal_dialog_alloy",className:"alloy-modal-dialog",dependencies:["window","Promise","globalStringManager"],hasCloseButton:!0,headerIsVisible:!0,contentAreas:{header:".dialog-header",auxHeader:".aux-header",body:".dialog-body",footer:".dialog-footer"},initialize:function(t){e.prototype.initialize.call(this,t),void 0!==t.hasCloseButton&&(this.hasCloseButton=t.hasCloseButton),void 0!==t.headerIsVisible&&(this.headerIsVisible=t.headerIsVisible),this.serviceProvider=t.serviceProvider,this.dialogManager=t.dialogManager,this.__stringManager=t.globalStringManager,this.finished=new t.Promise(function(t){this.promiseResolver=t}.bind(this)),this.shouldFocusOnPrimaryButton=!0,t=this.delete.bind(this),this.finished.then(t,t),this.$el.attr("data-ui-role","modal-dialog"),this.$el.on("focusin",function(t){this.$el.closest("html").addClass("dialog-focused")}.bind(this)),this.$el.on("focusout",function(t){this.$(t.target).closest(".dropdown").length||this.$el.closest("html").removeClass("dialog-focused")}.bind(this)),this.$el.trigger("focusout")},render:function(){this.$el.html(t.template({title:this.title||"",headerIsVisible:this.headerIsVisible})),this.$(".dialog-x").on("click",this.__onClose.bind(this)),this.$el.toggleClass("can-dismiss",this.hasCloseButton),this.postRender(),this.$el.closest("html").attr("data-dialog",this.uiContextName),this.__focusPrimaryButton(),this.$el.is(".dialog-type-B, .dialog-type-B-flexible")&&this.$el.closest("body").is(".mobile")&&470>this.$el.width()&&(this.$el.is(".text-close")?this.$(".dialog-x").text("Close"):this.$el.is(".text-done")?this.$(".dialog-x").text("Done"):this.$(".dialog-x").text("Cancel"),this.__adjustTitlePosition())},__adjustTitlePosition:function(){this.$(".dialog-title").width()<=this.$(".dialog-header").width()-160?this.$(".dialog-title").toggleClass("overflowed",!1):this.$(".dialog-title").toggleClass("overflowed",!0)},linkToDetailsSubmode:function(t,e){if(this.serviceProvider.get("historyManager").setState({fragment:this.__urlId(e.id),mode:{id:t},submode:{id:e.id,summary:{model:e}}})){var i=function(){this.serviceProvider.get("historyManager").silentMoveHistory(-1)}.bind(this);this.finished.then(i,i)}},show:function(){e.prototype.show.call(this),this.__focusPrimaryButton()},hide:function(){e.prototype.hide.call(this),this.$el.closest("html").removeAttr("data-dialog")},showHeader:function(){this.headerIsVisible=!0,this.$(".dialog-container").removeClass("no-header")},hideHeader:function(){this.headerIsVisible=!1,this.$(".dialog-container").addClass("no-header")},toggleHeader:function(){this.headerIsVisible?this.hideHeader():this.showHeader()},__onClose:function(t){t.preventDefault(),this.__recordEvent("click",{name:"dialog_close"}),this.hide(),this.promiseResolver.reject()},__focusPrimaryButton:function(){if(this.shouldFocusOnPrimaryButton){var t=this.$(".btn-primary");1<t.length?t.trigger("blur"):t.first().focus()}}})}({UiCore:t["@UiCore"],template:n}),AlloyAlertDialog:o=function(t){var e=t.AlloyModalDialog;return e.extend("AlloyAlertDialog",{uiContextName:"alert_dialog_alloy",className:"alert-dialog-alloy",trackedEvents:function(){return[{type:"click",selector:'[data-confirm="ok"]',name:"confirm",handler:"__onConfirm"},{type:"change",selector:"#dialog-dropdown",name:"option",handler:"__toggleConfirmButton"}]},initialize:function(t){this.title=t.title,this.text=t.text,this.html=t.html,e.prototype.initialize.call(this,t),this.ok=t.ok||this.__stringManager.get("OK"),this.checkbox=t.checkbox,this.dropdown=t.dropdown,this.termsOfService=t.termsOfService,this.checkedByDefault=!!_.isUndefined(t.checkedByDefault)||t.checkedByDefault,this.addToDOM()},postRender:function(){this.setContent("body",t.template,{text:this.text,html:this.html,ok:this.ok,checkbox:this.checkbox,dropdown:this.dropdown,termsOfService:this.termsOfService,checkedByDefault:this.checkedByDefault}),this.setContent("footer",this.$(".dialog-footer-template").last().text()),this.$("#dialog-dropdown").length&&(_.each(this.dropdown.options,function(t){this.$("#dialog-dropdown").append('<option value="'+t.value+'">'+t.label+"</option>")}.bind(this)),this.reasonDropDown=this.createChildContext(t.Dropdown,{$replaceElement:this.$("#dialog-dropdown")})),this.$(".dialog-title").toggleClass("long-title",this.title&&19<this.title.length),this.__toggleConfirmButton()},getResult:function(){var t={},e=this.$("#dialog-checkbox"),i=this.$("#dialog-dropdown");return e.length&&(t.checked=e.is(":checked")),i.length&&(t.dropdown=i.val()),t},__onConfirm:function(){this.$(".btn-primary").prop("disabled",!0),this.promiseResolver.accept(this.getResult()),this.hide()},__toggleConfirmButton:function(){this.$("#dialog-dropdown").length?this.$(".btn-primary").prop("disabled",!this.$("#dialog-dropdown").val()):this.$(".btn-primary").prop("disabled",!1)}})}({AlloyModalDialog:t,template:o,Dropdown:s}),AlloyConfirmDialog:i=function(t){var e=t.AlloyAlertDialog;return e.extend("AlloyConfirmDialog",{uiContextName:"confirm_dialog_alloy",className:"confirm-dialog-alloy",trackedEvents:function(){return[{type:"click",selector:'[data-confirm="yes"]',name:"confirm",handler:"__onConfirm"},{type:"click",selector:'[data-confirm="no"]',name:"deny",handler:"__onDeny"}]},initialize:function(t){t.title=t.title,t.text=t.text,this.yes=t.yes,this.no=t.no,this.eventAttributes=IMVU.optionalProperty(t,"eventAttributes",{}),e.prototype.initialize.call(this,t)},postRender:function(){e.prototype.postRender.call(this),this.$el.attr("data-type","confirm"),this.setContent("body",t.template,{yes:this.yes,no:this.no});var i=this.$(".dialog-footer-template");this.$(".dialog-footer").html(""),this.setContent("footer",i.last().text())},__onConfirm:function(){this.promiseResolver.accept(this.getResult()),this.hide()},__onDeny:function(){this.promiseResolver.reject(this.getResult()),this.hide()},__getUiAttributes:function(t){return _.extend(this.eventAttributes,e.prototype.__getUiAttributes.call(this,t))}})}({AlloyAlertDialog:o,template:i})}});