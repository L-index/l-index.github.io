module({"@NextUtil":"@NextUtil","@Dialogs":"@Dialogs","@UiCore":"@UiCore","@Widgets":"@Widgets","css!/build/welcome/mode/desktop/login.css":"css!/asset/5690a6143e2602e7/build/welcome/mode/desktop/login.css"},function(e){var i,t,n=(t=Handlebars.template,Handlebars.templates=Handlebars.templates||{},t({compiler:[5,">= 2.0.0"],main:function(e,i,t,n){var a;t=i.helperMissing;var o='<div class="ftux-body">\n    <div class="bg-container">\n    </div>\n    <div class="ftux-body-overlay">\n        <div class="flex-layout">\n            <div class="flex-cell">\n                <svg class="bg-logo" id="imvu_logo" filter="url(#dropshadow)">\n                    <defs>\n                        <filter xmlns="http://www.w3.org/2000/svg" id="dropshadow" height="200%" width="200%">\n                            <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>\n                            <feComponentTransfer>\n                                <feFuncA type="linear" slope="0.45"/>\n                            </feComponentTransfer>\n                            <feOffset dx="0" dy="0" result="offsetblur"/>\n                            <feMerge>\n                                <feMergeNode/>\n                                <feMergeNode in="SourceGraphic"/>\n                            </feMerge>\n                        </filter>\n                    </defs>\n                    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-icon-imvu-logo"></use>\n                </svg>\n            </div>\n            <div class="flex-cell">\n                <div class="content">\n                    <p class="id-title">';return((a=(i.i18n||e&&e.i18n||t).call(e,"welcome_frontpage_title",{name:"i18n",hash:{},data:n}))||0===a)&&(o+=a),o+='</p>\n                    <p class="id-text">',((a=(i.i18n||e&&e.i18n||t).call(e,"welcome_frontpage_text",{name:"i18n",hash:{},data:n}))||0===a)&&(o+=a),o+='</p>\n                    <button class="btn btn-fb id-fb">',((a=(i.i18n||e&&e.i18n||t).call(e,"welcome_frontpage_fb_cta",{name:"i18n",hash:{},data:n}))||0===a)&&(o+=a),o+='</button>\n                    <button class="btn btn-primary-dark id-continue">',((a=(i.i18n||e&&e.i18n||t).call(e,"welcome_frontpage_cta",{name:"i18n",hash:{},data:n}))||0===a)&&(o+=a),o+='</button>\n                    <ul class="ftux-bottom-nav">\n                        <div class="have-an-account">',((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"login_have_an_account",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+='</div> <a class="login">',((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"login_login_link",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+='</a>\n                    </ul>\n                    <nav class="footer">\n                        <ul class="footer-items">\n                            <li><a data-external href="https://about.imvu.com/">',((a=(i.i18n||e&&e.i18n||t).call(e,"welcome_frontpage_about",{name:"i18n",hash:{},data:n}))||0===a)&&(o+=a),o+='</a></li>\n                            <li><a data-external href="https://about.imvu.com/careers">',((a=(i.i18n||e&&e.i18n||t).call(e,"welcome_frontpage_jobs",{name:"i18n",hash:{},data:n}))||0===a)&&(o+=a),o+='</a></li>\n                            <li><a data-external href="https://www.imvu.com/policy_hub/policy_hub.php">',((a=(i.i18n||e&&e.i18n||t).call(e,"welcome_frontpage_policies",{name:"i18n",hash:{},data:n}))||0===a)&&(o+=a),o+='</a></li>\n                            <li><a data-external href="https://help.imvu.com/">',((a=(i.i18n||e&&e.i18n||t).call(e,"welcome_frontpage_help",{name:"i18n",hash:{},data:n}))||0===a)&&(o+=a),o+='</a></li>\n                            <li><a data-external href="https://about.imvu.com/contact">',((a=(i.i18n||e&&e.i18n||t).call(e,"welcome_frontpage_contact",{name:"i18n",hash:{},data:n}))||0===a)&&(o+=a),o+'</a></li>\n                        </ul>\n                    </nav>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="ftux-avatar-cache"></div>\n'},useData:!0})),a=function(){var e=Handlebars.template;return Handlebars.templates=Handlebars.templates||{},e({compiler:[5,">= 2.0.0"],main:function(e,i,t,n){var a,o;t=i.helperMissing;var l=this.escapeExpression,s='<form name="login_form" method="GET" action="#" class="login">\n    <div class="label login_avatarname label-first" data-holder="';return((a=(o=i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"welcome_dialog_username_placeholder",{name:"i18n-g",hash:{},data:n}))||0===a)&&(s+=a),s+='">\n        <input type="text" tabindex="1" name="avatarname" placeholder=\'',((a=(o=i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"welcome_dialog_username_placeholder",{name:"i18n-g",hash:{},data:n}))||0===a)&&(s+=a),s+='\'  autocapitalize="none" autocorrect="off" autocomplete="off" spellcheck="false" value="'+l("function"==typeof(o=i.username||e&&e.username)?o.call(e,{name:"username",hash:{},data:n}):o)+'" />\n    </div>\n    <div class="label login_password label-second" data-holder="',((a=(o=i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"welcome_dialog_password_placeholder",{name:"i18n-g",hash:{},data:n}))||0===a)&&(s+=a),s+='">\n        <div style="position:relative">\n            <input tabindex="1" type="password" name="password" placeholder=\'',((a=(o=i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"welcome_dialog_password_placeholder",{name:"i18n-g",hash:{},data:n}))||0===a)&&(s+=a),s+='\'/>\n            <div class="toggle-password-visibility icon icon-password-show"></div>\n        </div>\n    </div>\n\n    <div class="label label-forgot">\n        <a class="forgot-password-link" href="/next/forgotpassword">'+l("function"==typeof(o=i.passwordHolderContent||e&&e.passwordHolderContent)?o.call(e,{name:"passwordHolderContent",hash:{},data:n}):o)+'</a>\n    </div>\n    <div class="label label-log-in">\n        <button class="btn btn-primary" >',((a=(o=i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"login_dialog_signin_button",{name:"i18n-g",hash:{},data:n}))||0===a)&&(s+=a),s+='</button>\n    </div>\n    <div class="label label-or">',((a=(o=i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"login_dialog_or",{name:"i18n-g",hash:{},data:n}))||0===a)&&(s+=a),s+='</div>\n    <div class="label label-fb">\n        <a class="btn btn-fb id-fb">',((a=(o=i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"welcome_frontpage_fb_cta",{name:"i18n-g",hash:{},data:n}))||0===a)&&(s+=a),s+='</a>\n    </div>\n\n    <div class="label signup">',((a=(o=i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"welcome_dialog_no_account",{name:"i18n-g",hash:{},data:n}))||0===a)&&(s+=a),s+='&nbsp;<a class="id-signup">',((a=(o=i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"welcome_dialog_signup",{name:"i18n-g",hash:{},data:n}))||0===a)&&(s+=a),s+='</a></div>\n    <div class="label need-help">',((a=(o=i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"login_dialog_need_help",{name:"i18n-g",hash:{},data:n}))||0===a)&&(s+=a),s+='<a data-external href="https://help.imvu.com/">',((a=(o=i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"login_dialog_help_center",{name:"i18n-g",hash:{},data:n}))||0===a)&&(s+=a),s+='</a></div>\n\n    <p class="app-store-buttons text-spacing">\n        <a data-external href="https://itunes.apple.com/us/app/imvu-mobile/id919745844?mt=8" class="ios-button" target="_blank">\n            <svg xmlns="http://www.w3.org/2000/svg" class="svg-icon-app-store" viewBox="0 0 135 40">\n                <title>Available on the App Store</title>\n                <path fill="#A6A6A6" d="M130.197 40H4.73C2.12 40 0 37.872 0 35.267V4.727C0 2.12 2.122 0 4.73 0h125.467C132.803 0 135 2.12 135 4.726v30.54c0 2.606-2.197 4.734-4.803 4.734z"/><path d="M134.032 35.268c0 2.116-1.714 3.83-3.834 3.83H4.728c-2.118 0-3.838-1.714-3.838-3.83V4.725C.89 2.61 2.61.89 4.73.89h125.467c2.12 0 3.834 1.72 3.834 3.835l.01 30.543z"/><path d="M30.128 19.784c-.03-3.223 2.64-4.79 2.76-4.864-1.51-2.203-3.852-2.504-4.675-2.528-1.967-.207-3.875 1.177-4.877 1.177-1.022 0-2.565-1.16-4.228-1.13-2.14.03-4.142 1.27-5.24 3.19-2.266 3.92-.576 9.69 1.595 12.86 1.086 1.55 2.355 3.28 4.016 3.22 1.62-.07 2.23-1.04 4.19-1.04 1.94 0 2.51 1.03 4.2.99 1.74-.03 2.84-1.56 3.89-3.13 1.25-1.78 1.76-3.53 1.78-3.62-.04-.01-3.39-1.29-3.42-5.15zm-3.2-9.478c.874-1.093 1.472-2.58 1.306-4.09-1.265.057-2.847.876-3.758 1.945-.806.95-1.526 2.49-1.34 3.94 1.42.11 2.88-.71 3.792-1.79zm26.717 21.198h-2.27l-1.245-3.91h-4.324l-1.185 3.91h-2.21l4.29-13.308h2.65l4.31 13.308zm-3.89-5.55L48.63 22.48c-.12-.355-.342-1.19-.67-2.507h-.04c-.132.566-.343 1.402-.633 2.507l-1.105 3.475h3.573zm14.907.634c0 1.632-.44 2.922-1.323 3.87-.79.842-1.78 1.263-2.95 1.263-1.27 0-2.17-.45-2.73-1.36h-.04v5.06H55.5V25.07c0-1.026-.027-2.08-.08-3.16h1.876l.12 1.522h.04c.71-1.15 1.79-1.72 3.237-1.72 1.132 0 2.077.447 2.833 1.34.758.898 1.136 2.076 1.136 3.537zm-2.172.078c0-.934-.21-1.704-.632-2.31-.46-.632-1.08-.948-1.856-.948-.526 0-1.004.176-1.43.523-.43.35-.71.81-.84 1.38-.066.27-.1.48-.1.65v1.6c0 .7.215 1.29.643 1.77s.984.72 1.668.72c.803 0 1.428-.31 1.875-.92.448-.62.672-1.43.672-2.45zm13.21-.078c0 1.632-.442 2.922-1.325 3.87-.79.842-1.77 1.263-2.94 1.263-1.265 0-2.173-.45-2.725-1.36h-.04v5.06h-2.132V25.07c0-1.026-.027-2.08-.08-3.16h1.876l.12 1.522h.04c.71-1.15 1.788-1.72 3.237-1.72 1.14 0 2.08.447 2.84 1.34.76.898 1.14 2.076 1.14 3.537zm-2.173.078c0-.934-.21-1.704-.633-2.31-.46-.632-1.078-.948-1.855-.948-.53 0-1.01.176-1.44.523-.43.35-.71.81-.84 1.38-.07.27-.1.48-.1.65v1.6c0 .7.21 1.29.64 1.77.43.48.98.72 1.67.72.8 0 1.43-.31 1.87-.92.45-.62.67-1.43.67-2.45zm14.513 1.106c0 1.132-.394 2.053-1.183 2.764-.867.777-2.074 1.165-3.625 1.165-1.432 0-2.58-.27-3.45-.82l.495-1.77c.936.57 1.963.85 3.082.85.8 0 1.42-.18 1.87-.54.44-.36.67-.84.67-1.45 0-.54-.19-.99-.56-1.36-.37-.37-.98-.71-1.84-1.03-2.33-.87-3.5-2.14-3.5-3.81 0-1.09.41-1.99 1.22-2.69.81-.69 1.9-1.04 3.26-1.04 1.21 0 2.21.21 3.02.63l-.54 1.74c-.75-.41-1.6-.61-2.55-.61-.75 0-1.34.18-1.76.55-.36.33-.54.73-.54 1.21 0 .53.2.96.61 1.31.35.32 1 .66 1.94 1.03 1.14.46 1.98 1 2.53 1.62.54.62.81 1.39.81 2.31zm7.048-4.264h-2.35v4.66c0 1.184.414 1.776 1.244 1.776.38 0 .697-.033.947-.1l.05 1.62c-.42.157-.98.236-1.66.236-.85 0-1.5-.257-1.98-.77-.48-.514-.71-1.376-.71-2.587v-4.837h-1.4v-1.6h1.4V20.15l2.09-.633v2.39h2.35v1.6zm10.602 3.12c0 1.474-.42 2.685-1.263 3.632-.883.975-2.055 1.46-3.516 1.46-1.4 0-2.52-.466-3.36-1.4s-1.25-2.113-1.25-3.534c0-1.487.43-2.705 1.3-3.652.86-.948 2.03-1.422 3.49-1.422 1.41 0 2.54.467 3.4 1.402.82.907 1.23 2.078 1.23 3.513zm-2.21.07c0-.887-.19-1.646-.573-2.28-.447-.766-1.086-1.15-1.914-1.15-.857 0-1.508.385-1.955 1.15-.383.634-.572 1.405-.572 2.317 0 .885.19 1.644.572 2.276.46.77 1.105 1.15 1.936 1.15.814 0 1.453-.39 1.914-1.17.393-.64.59-1.41.59-2.29zm9.14-2.915c-.21-.04-.435-.06-.67-.06-.75 0-1.33.284-1.74.85-.354.5-.532 1.133-.532 1.896v5.03h-2.13l.02-6.58c0-1.11-.028-2.12-.08-3.02h1.856l.078 1.83h.06c.224-.63.58-1.14 1.065-1.52.475-.35.988-.52 1.54-.52.198 0 .376.01.534.04v2.03zm9.536 2.47c0 .38-.025.703-.078.966h-6.396c.025.94.334 1.67.928 2.17.54.44 1.236.67 2.092.67.947 0 1.81-.15 2.588-.46l.334 1.48c-.908.39-1.98.59-3.217.59-1.488 0-2.656-.44-3.506-1.32-.84-.88-1.27-2.05-1.27-3.53 0-1.45.4-2.65 1.19-3.62.83-1.03 1.95-1.54 3.36-1.54 1.39 0 2.43.51 3.14 1.54.57.81.85 1.82.85 3.02zm-2.033-.554c.014-.64-.125-1.18-.414-1.64-.37-.6-.94-.89-1.7-.89-.7 0-1.27.29-1.7.87-.36.46-.57 1.01-.63 1.65h4.44zM49.05 10.01c0 1.176-.353 2.062-1.058 2.657-.653.55-1.58.824-2.783.824-.6 0-1.11-.02-1.54-.07V6.99c.55-.09 1.15-.138 1.8-.138 1.14 0 2.01.25 2.59.747.65.56.98 1.36.98 2.41zm-1.105.028c0-.763-.202-1.348-.606-1.756-.41-.407-1-.61-1.78-.61-.33 0-.61.02-.85.067v4.88c.13.02.36.03.71.03.8 0 1.42-.23 1.85-.67s.65-1.1.65-1.95zm6.965 1c0 .724-.208 1.32-.622 1.784-.434.48-1.01.718-1.727.718-.69 0-1.24-.23-1.65-.69-.41-.458-.61-1.037-.61-1.735 0-.73.21-1.33.64-1.794s1-.69 1.71-.69c.69 0 1.25.23 1.67.69.4.45.6 1.03.6 1.73zm-1.088.033c0-.43-.094-.8-.28-1.11-.22-.37-.534-.56-.94-.56-.422 0-.742.19-.962.57-.188.31-.28.69-.28 1.14 0 .44.093.81.28 1.12.227.38.543.57.95.57.4 0 .715-.19.94-.57.195-.31.292-.69.292-1.13zm8.943-2.35l-1.475 4.72h-.96l-.61-2.04c-.156-.51-.282-1.02-.38-1.52h-.02c-.09.52-.216 1.03-.378 1.53l-.65 2.05h-.97l-1.387-4.72h1.077l.533 2.24c.13.53.235 1.04.32 1.52h.02c.077-.39.206-.89.388-1.5l.67-2.25h.853l.64 2.21c.156.54.282 1.05.38 1.55h.028c.07-.48.178-1 .32-1.55l.572-2.2h1.03zm5.433 4.72H67.15v-2.7c0-.83-.316-1.25-.95-1.25-.31 0-.562.12-.757.35-.193.23-.29.5-.29.81v2.8h-1.05v-3.37c0-.41-.012-.86-.037-1.35h.92l.05.74h.03c.12-.23.303-.42.542-.57.284-.17.602-.26.95-.26.44 0 .806.15 1.097.43.362.35.543.87.543 1.56v2.83zm2.89 0H70.04V6.56h1.048v6.877zm6.17-2.39c0 .73-.207 1.32-.62 1.79-.435.48-1.01.72-1.728.72-.693 0-1.244-.23-1.654-.69-.41-.45-.615-1.03-.615-1.73 0-.73.22-1.33.64-1.79s1-.7 1.71-.7c.7 0 1.25.23 1.67.69.4.45.6 1.02.6 1.73zm-1.088.04c0-.43-.094-.8-.28-1.11-.22-.37-.534-.56-.94-.56-.422 0-.742.19-.96.57-.19.31-.282.69-.282 1.14 0 .44.094.81.28 1.12.228.38.544.57.952.57.4 0 .713-.19.94-.57.194-.32.29-.694.29-1.13zm6.16 2.37h-.94l-.08-.54h-.028c-.322.43-.78.65-1.377.65-.445 0-.805-.14-1.076-.43-.25-.26-.37-.58-.37-.96 0-.57.24-1.01.72-1.32.48-.3 1.16-.45 2.03-.44v-.09c0-.62-.33-.93-.98-.93-.47 0-.88.12-1.23.35l-.22-.69c.44-.27.98-.4 1.61-.4 1.23 0 1.85.65 1.85 1.95v1.74c0 .47.02.85.07 1.12zm-1.088-1.62v-.73c-1.156-.02-1.734.3-1.734.95 0 .25.066.43.2.55.136.12.308.19.513.19.23 0 .45-.07.65-.22.2-.14.32-.33.37-.56.01-.05.02-.11.02-.18zm7.043 1.62h-.93l-.05-.75h-.028c-.297.58-.803.86-1.514.86-.568 0-1.04-.22-1.416-.67s-.562-1.02-.562-1.73c0-.76.203-1.38.61-1.85.396-.44.88-.66 1.456-.66.64 0 1.08.22 1.33.64h.02V6.56h1.05v5.608c0 .46.01.882.04 1.27zm-1.085-2v-.78c0-.14-.01-.25-.03-.33-.06-.25-.186-.46-.38-.63-.194-.17-.43-.25-.7-.25-.39 0-.697.15-.922.46-.223.31-.336.71-.336 1.19 0 .47.107.85.322 1.14.227.31.533.47.916.47.344 0 .62-.13.828-.39.202-.24.3-.52.3-.86zm10.048-.41c0 .73-.207 1.32-.62 1.79-.435.48-1.01.72-1.728.72-.69 0-1.242-.23-1.654-.69-.41-.45-.615-1.03-.615-1.73 0-.73.22-1.33.64-1.79s1-.69 1.72-.69c.69 0 1.25.23 1.67.69.4.45.6 1.02.6 1.73zm-1.086.04c0-.43-.094-.8-.28-1.11-.222-.37-.534-.56-.942-.56-.42 0-.74.19-.96.56-.19.31-.282.69-.282 1.14 0 .44.094.81.28 1.12.228.38.544.57.952.57.4 0 .715-.19.94-.57.194-.316.292-.692.292-1.13zm6.72 2.37h-1.046v-2.7c0-.83-.316-1.25-.95-1.25-.312 0-.563.12-.757.35s-.3.5-.3.81v2.8h-1.05V10.1c0-.417-.01-.866-.04-1.35h.92l.05.735h.03c.12-.23.3-.416.54-.57.28-.173.6-.262.95-.262.44 0 .8.145 1.1.43.36.35.54.87.54 1.57v2.82zm7.054-3.93h-1.154v2.29c0 .59.205.88.61.88.19 0 .345-.01.468-.05l.027.8c-.207.07-.48.11-.814.11-.414 0-.736-.13-.97-.38-.233-.25-.35-.68-.35-1.27v-2.4h-.688v-.79h.69v-.86l1.026-.31v1.17h1.16v.79zm5.548 3.93h-1.05v-2.68c0-.84-.315-1.27-.948-1.27-.486 0-.818.25-1 .74-.03.1-.05.23-.05.38v2.84h-1.046v-6.9h1.047V9.4h.02c.33-.517.803-.775 1.416-.775.434 0 .793.142 1.078.427.36.35.54.88.54 1.58v2.8zm5.723-2.58c0 .19-.014.35-.04.48h-3.142c.014.47.164.82.455 1.07.266.22.61.33 1.03.33.464 0 .888-.07 1.27-.22l.164.73c-.447.2-.973.29-1.582.29-.73 0-1.305-.21-1.72-.64-.42-.43-.626-1.01-.626-1.73 0-.71.193-1.3.582-1.77.406-.5.955-.75 1.648-.75.678 0 1.193.256 1.54.76.282.4.42.9.42 1.488zm-1-.27c.008-.31-.06-.58-.203-.8-.182-.29-.46-.43-.834-.43-.342 0-.62.15-.834.43-.174.23-.277.5-.31.82h2.18z" fill="#FFF"/>\n            </svg>\n        </a>\n        <a data-external href="https://play.google.com/store/apps/details?id=com.imvu.mobilecordova" class="last android-button" target="_blank">\n            <svg xmlns="http://www.w3.org/2000/svg" class="svg-icon-google-play" viewBox="0 0 135 40">\n                <title>Get it on Google Play</title>\n                <defs><linearGradient id="a" x1="21.8" y1="418.71" x2="5.02" y2="435.49" gradientTransform="translate(0 -410)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#00a0ff"/><stop offset=".01" stop-color="#00a1ff"/><stop offset=".26" stop-color="#00beff"/><stop offset=".51" stop-color="#00d2ff"/><stop offset=".76" stop-color="#00dfff"/><stop offset="1" stop-color="#00e3ff"/></linearGradient><linearGradient id="b" x1="33.83" y1="430" x2="9.64" y2="430" gradientTransform="translate(0 -410)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#ffe000"/><stop offset=".41" stop-color="#ffbd00"/><stop offset=".78" stop-color="orange"/><stop offset="1" stop-color="#ff9c00"/></linearGradient><linearGradient id="c" x1="24.83" y1="432.3" x2="2.07" y2="455.05" gradientTransform="translate(0 -410)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#ff3a44"/><stop offset="1" stop-color="#c31162"/></linearGradient><linearGradient id="d" x1="7.3" y1="410.18" x2="17.46" y2="420.34" gradientTransform="translate(0 -410)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#32a071"/><stop offset=".07" stop-color="#2da771"/><stop offset=".48" stop-color="#15cf74"/><stop offset=".8" stop-color="#06e775"/><stop offset="1" stop-color="#00f076"/></linearGradient></defs>\n                <rect width="135" height="40" rx="5" ry="5"/><path d="M130 .8a4.2 4.2 0 0 1 4.2 4.2v30a4.2 4.2 0 0 1-4.2 4.2H5A4.2 4.2 0 0 1 .8 35V5A4.2 4.2 0 0 1 5 .8h125m0-.8H5a5 5 0 0 0-5 5v30a5 5 0 0 0 5 5h125a5 5 0 0 0 5-5V5a5 5 0 0 0-5-5z" fill="#a6a6a6"/><path d="M47.42 10.24a2.71 2.71 0 0 1-.75 2 2.91 2.91 0 0 1-2.2.89 3.15 3.15 0 0 1-2.21-5.37 3 3 0 0 1 2.21-.9 3.1 3.1 0 0 1 1.23.25 2.47 2.47 0 0 1 .94.67l-.53.53a2 2 0 0 0-1.64-.71 2.32 2.32 0 0 0-2.33 2.31V10a2.36 2.36 0 0 0 4 1.73 1.89 1.89 0 0 0 .5-1.22h-2.17v-.72h2.91a2.54 2.54 0 0 1 .04.45zM52 7.74h-2.7v1.9h2.46v.72H49.3v1.9H52V13h-3.5V7H52v.74zM55.28 13h-.77V7.74h-1.68V7H57v.74h-1.72V13zm4.66 0V7h.77v6h-.77zm4.19 0h-.77V7.74h-1.68V7h4.12v.74h-1.67V13zm9.48-.78a3.12 3.12 0 0 1-4.4 0 3.24 3.24 0 0 1 0-4.45 3.1 3.1 0 0 1 4.38 0 3.23 3.23 0 0 1 .02 4.45zm-3.83-.5a2.31 2.31 0 0 0 3.26 0 2.56 2.56 0 0 0 0-3.44 2.31 2.31 0 0 0-3.26 0 2.56 2.56 0 0 0 0 3.44zm5.8 1.28V7h.94l2.92 4.67V7h.76v6h-.8l-3.05-4.89V13h-.77z" fill="#fff" stroke="#fff" stroke-miterlimit="10" stroke-width=".2"/><path d="M68.14 21.75A4.25 4.25 0 1 0 72.41 26a4.19 4.19 0 0 0-4.13-4.25h-.14zm0 6.83a2.58 2.58 0 1 1 2.39-2.75V26a2.46 2.46 0 0 1-2.34 2.58h-.05zm-9.31-6.83A4.25 4.25 0 1 0 63.09 26 4.19 4.19 0 0 0 59 21.75h-.17zm0 6.83a2.58 2.58 0 1 1 2.38-2.76V26a2.46 2.46 0 0 1-2.34 2.58h-.04zm-11.09-5.52v1.8h4.32a3.77 3.77 0 0 1-1 2.27 4.42 4.42 0 0 1-3.33 1.32 4.8 4.8 0 0 1 0-9.6A4.6 4.6 0 0 1 51 20.14l1.27-1.27A6.29 6.29 0 0 0 47.74 17a6.61 6.61 0 1 0-.51 13.21h.51a5.84 5.84 0 0 0 6.17-6.07 5.87 5.87 0 0 0-.1-1.13h-6.07v.05zm45.31 1.4a3.92 3.92 0 0 0-7.65 1.28V26a4.16 4.16 0 0 0 4.07 4.25h.15a4.23 4.23 0 0 0 3.54-1.88l-1.45-1a2.43 2.43 0 0 1-2.09 1.18 2.16 2.16 0 0 1-2.06-1.29l5.69-2.35zm-5.8 1.42a2.33 2.33 0 0 1 2.17-2.48 1.65 1.65 0 0 1 1.58.9zM82.63 30h1.87V17.5h-1.87V30zm-3.06-7.3h-.07a3 3 0 0 0-2.24-1 4.26 4.26 0 0 0 0 8.51 2.9 2.9 0 0 0 2.24-1h.06v.69c0 1.63-.87 2.5-2.27 2.5a2.35 2.35 0 0 1-2.14-1.51l-1.63.68a4.05 4.05 0 0 0 3.77 2.51c2.19 0 4-1.29 4-4.43V22h-1.72v.7zm-2.14 5.88a2.59 2.59 0 0 1 0-5.16 2.4 2.4 0 0 1 2.27 2.52V26a2.38 2.38 0 0 1-2.17 2.57h-.1zm24.38-11.08h-4.47V30h1.87v-4.74h2.61a3.89 3.89 0 1 0-.01-7.76zm0 6H99.2v-4.26h2.65a2.14 2.14 0 0 1 0 4.28zm11.53-1.8a3.5 3.5 0 0 0-3.34 1.91l1.66.69a1.77 1.77 0 0 1 1.7-.92 1.8 1.8 0 0 1 2 1.58v.16a4.13 4.13 0 0 0-1.95-.48c-1.79 0-3.6 1-3.6 2.81a2.89 2.89 0 0 0 3 2.75h.08a2.63 2.63 0 0 0 2.4-1.2h.06v1h1.8v-4.81c0-2.19-1.66-3.46-3.79-3.46zm-.23 6.85a1.3 1.3 0 0 1-1.46-1.06c0-1 1.06-1.33 2-1.33a3.32 3.32 0 0 1 1.7.42 2.26 2.26 0 0 1-2.19 2zM123.74 22l-2.14 5.42h-.06L119.32 22h-2l3.33 7.58-1.9 4.21h1.95L125.82 22h-2.08zm-16.81 8h1.87V17.5h-1.87V30z" fill="#fff"/><path d="M10.44 7.54a2 2 0 0 0-.44 1.4v22.12a2 2 0 0 0 .46 1.4l.07.07L22.9 20.15v-.3L10.51 7.47z" fill="url(#a)"/><path d="M27 24.28l-4.1-4.13v-.3l4.1-4.13h.09L32 18.56c1.4.79 1.4 2.09 0 2.89l-4.89 2.78z" fill="url(#b)"/><path d="M27.12 24.22L22.9 20 10.44 32.46a1.63 1.63 0 0 0 2.08.06l14.61-8.3" fill="url(#c)"/><path d="M27.12 15.78l-14.61-8.3a1.63 1.63 0 0 0-2.08.06L22.9 20z" fill="url(#d)"/><path d="M27 24.13l-14.49 8.25a1.67 1.67 0 0 1-2 0l-.07.07.07.07a1.66 1.66 0 0 0 2 0l14.61-8.3z" style="isolation:isolate" opacity=".2"/><path d="M10.44 32.32a2 2 0 0 1-.46-1.4v.15a2 2 0 0 0 .46 1.4l.07-.07zM32 21.3l-5 2.83.09.09L32 21.44A1.75 1.75 0 0 0 33 20a1.86 1.86 0 0 1-1 1.3z" style="isolation:isolate" opacity=".12"/><path d="M12.51 7.62L32 18.7a1.86 1.86 0 0 1 1 1.3 1.75 1.75 0 0 0-1-1.44L12.51 7.48C11.11 6.69 10 7.35 10 8.95v.15c0-1.61 1.12-2.27 2.51-1.48z" style="isolation:isolate" fill="#fff" opacity=".25"/>\n            </svg>\n        </a>\n    </p>\n    <label class="submit">\n        <div class="error-message-container">\n            <div class="error-message try-again-later">',((a=(o=i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"login_dialog_try_again_later_error",{name:"i18n-g",hash:{},data:n}))||0===a)&&(s+=a),s+='</div>\n            <div class="error-message credentials">',((a=(o=i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"login_dialog_credentials_error",{name:"i18n-g",hash:{},data:n}))||0===a)&&(s+=a),s+='</div>\n            <div class="error-message disabled">',((a=(o=i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"login_dialog_disabled_error",{name:"i18n-g",hash:{},data:n}))||0===a)&&(s+=a),s+='</div>\n            <div class="error-message unknown">',((a=(o=i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"login_dialog_unknown_login_error",{name:"i18n-g",hash:{},data:n}))||0===a)&&(s+=a),s+"</div>\n        </div>\n    </label>\n</form>\n"},useData:!0})}(),o=function(){var e=Handlebars.template;return Handlebars.templates=Handlebars.templates||{},e({compiler:[5,">= 2.0.0"],main:function(e,i,t,n){var a;t=i.helperMissing;var o='<div class="content">\n    <div class="privacy-policy-minors-body">';return((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"privacy_policy_minors_dialog_body",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+='</div>\n    <div class="privacy-policy-minors-form">\n        <div class="privacy-policy-minors-form-title">',((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"privacy_policy_minors_dialog_form_title",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+='</div>\n        <div class="fieldset">\n            <label>',((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"Name",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+='</label>\n            <input type="text" class="privacy-policy-minors-avatarname full-width"></input>\n        </div>\n        <div class="fieldset">\n            <label>',((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"your name",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+='</label>\n            <input type="text" class="privacy-policy-minors-name full-width"></input>\n        </div>\n        <div class="fieldset">\n            <label>',((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"email address",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+="<span> (",((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"privacy_policy_minors_email_note",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+=')</span></label>\n            <input type="text" class="privacy-policy-minors-email full-width"></input>\n            <div class="input-error"></div>\n        </div>\n        <div class="fieldset">\n            <label>',((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"privacy_policy_minors_guardian_name",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+='</label>\n            <input type="text" class="privacy-policy-minors-guardian-name full-width"></input>\n        </div>\n        <div class="fieldset">\n            <label>',((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"privacy_policy_minors_guardian_email",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+='</label>\n            <input type="text" class="privacy-policy-minors-guardian-email full-width"></input>\n            <div class="input-note">',((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"privacy_policy_minors_guardian_email_note",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+='</div>\n            <div class="input-error"></div>\n        </div>\n    </div>\n    <div class="privacy-policy-link"><a href="https://www.imvu.com/catalog/web_info.php?topic=privacy">',((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"view_privacy_policy",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+='</a></div>\n</div>\n\n<script type="text/template" class="dialog-footer-template">\n    <button class="btn btn-primary minors-guardian-form-submit full-width disabled">',((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"submit",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+"</button>\n<\/script>"},useData:!0})}(),l={validateEmail:function(e){return/[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,3}$/.test(e)}},s=function(){var e=Handlebars.template;return Handlebars.templates=Handlebars.templates||{},e({compiler:[5,">= 2.0.0"],main:function(e,i,t,n){var a;t=i.helperMissing;var o="<div>\n    <p>";return((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"privacy_policy_minors_guardian_dialog_body_1",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+="</p>\n    <p>",((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"privacy_policy_minors_guardian_dialog_body_2",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+='</p>\n</div>\n<div class="privacy-policy-link"><a href="https://www.imvu.com/catalog/web_info.php?topic=privacy">',((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"view_privacy_policy",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+='</a></div>\n<script type="text/template" class="dialog-footer-template">\n    <button class="btn btn-primary ok full-width">',((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"OK",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+"</button>\n<\/script>"},useData:!0})}(),r=(s=function(e){var i=e.Dialogs.AlloyModalDialog;return i.extend("PrivacyPolicyMinorsGuardianDialog",{uiContextName:"privacy_policy_minors_guardian_dialog",className:"privacy-policy-minors-guardian-dialog dialog-type-B",dependencies:["globalStringManager"],trackedEvents:function(){return[{type:"click",selector:"button",name:"submit_privacy_policy_minors_okay",handler:"__onClose"}]},initialize:function(e){i.prototype.initialize.call(this,e),this.title=this.__globalStringManager.get("privacy_policy_minors_guardian_dialog_title"),this.addToDOM()},postRender:function(){this.setContent("body",e.template,{}),this.setContent("footer",this.$(".dialog-footer-template").text())}})}({Dialogs:e["@Dialogs"],template:s}),o=function(e){var i=e.Dialogs.AlloyModalDialog;return i.extend("PrivacyPolicyMinorsDialog",{uiContextName:"privacy_policy_minors_dialog",className:"privacy-policy-minors-dialog dialog-type-B",dependencies:["dialogManager","globalStringManager","rest"],trackedEvents:function(){return[{type:"keyup",selector:"input.privacy-policy-minors-avatarname",name:"change_avatarname",handler:"__toggleButton"},{type:"keyup",selector:"input.privacy-policy-minors-name",name:"change_username",handler:"__toggleButton"},{type:"keyup",selector:"input.privacy-policy-minors-email",name:"change_email",handler:"__validateMinorsEmail"},{type:"keyup",selector:"input.privacy-policy-minors-guardian-name",name:"change_guardian_name",handler:"__toggleButton"},{type:"keyup",selector:"input.privacy-policy-minors-guardian-email",name:"change_guardian_email",handler:"__validateGuardiansEmail"},{type:"click",selector:"button",name:"submit_privacy_policy_minors_form",handler:"__submit"}]},initialize:function(t){i.prototype.initialize.call(this,t),this.__GUARDIAN_VERIFICATION_URL=this.__serviceProvider.get("root")+"/guardian_verification",this.title=this.__globalStringManager.get("privacy_policy_minors_dialog_title"),this.__formValidator=e.FormValidator,this.addToDOM(),this.$(".dialog-x").remove(),this.__hasError=!1},postRender:function(){this.setContent("body",e.template,{}),this.setContent("footer",this.$(".dialog-footer-template").text()),this.$(".content").scrollbar()},__toggleButton:function(){var e=!1;this.$("input").each(function(i){$(this).val()||(e=!0)});var i=this.__minorsEmailError||this.__guardiansEmailError;this.$(".minors-guardian-form-submit").toggleClass("disabled",e||i)},__validateMinorsEmail:function(e){this.__minorsEmailError=!1;var i=$(e.currentTarget);(e=i.siblings(".input-error")).text(""),null!==(i=this.__validateEmail(i.val()))&&(this.__minorsEmailError=!0,e.text(i)),this.__toggleButton()},__validateGuardiansEmail:function(e){this.__guardiansEmailError=!1,(e=$(e.currentTarget)).siblings(".input-note").toggleClass("hidden",!1);var i=e.siblings(".input-error");i.text("");var t=this.__validateEmail(e.val());null===t&&this.$("input.privacy-policy-minors-email").val()===this.$("input.privacy-policy-minors-guardian-email").val()&&(t=this.__globalStringManager.get("privacy_policy_minors_guardian_email_note")),null!==t&&(this.__guardiansEmailError=!0,i.text(t),e.siblings(".input-note").toggleClass("hidden",!0)),this.__toggleButton()},__validateEmail:function(e){return e?this.__formValidator.validateEmail(e)?null:this.__globalStringManager.get("error_message_email_invalide_format"):this.__globalStringManager.get("error_message_email_empty")},__submit:function(i){this.__rest.post(this.__GUARDIAN_VERIFICATION_URL,{avatarname:this.$("input.privacy-policy-minors-avatarname").val(),user_name:this.$("input.privacy-policy-minors-name").val(),user_email:this.$("input.privacy-policy-minors-email").val(),guardian_name:this.$("input.privacy-policy-minors-guardian-name").val(),guardian_email:this.$("input.privacy-policy-minors-guardian-email").val()}).then(function(e){}),this.__onClose(i),this.__dialogManager.showDialog(e.PrivacyPolicyMinorsGuardianDialog)}})}({Dialogs:e["@Dialogs"],PrivacyPolicyMinorsGuardianDialog:s,FormValidator:l,template:o}),l={mixin:function(e){_.isArray(e)||(e=[].slice.call(arguments));var i=e[0],t=[],n=[];return _.each(e,function(e){if(e.initialize&&t.push(e.initialize),e.trackedEvents&&n.push(e.trackedEvents),e!==i){var a=i.dependencies||[];_.each(e.dependencies,function(e){-1===_.indexOf(a,e)&&a.push(e)}),_.extend(i,e,{dependencies:a})}}),t.length&&(i.initialize=1<t.length?function(){for(var e=Array.prototype.slice.call(arguments),i=t.length;0<i--;)t[i].apply(this,e)}:t[0]),n.length&&(i.trackedEvents=1<n.length?function(){for(var e=Array.prototype.slice.call(arguments),i=[],t=n.length;0<t--;)i=i.concat(n[t].apply(this,e));return i}:n[0]),i}},s=function(){var e=Handlebars.template;return Handlebars.templates=Handlebars.templates||{},e({1:function(){return"show-label"},3:function(e,i,t,n){var a,o;return(a="function"==typeof(o=i.defaultLabel||e&&e.defaultLabel)?o.call(e,{name:"defaultLabel",hash:{},data:n}):o)||0===a?a:""},5:function(){return"&nbsp"},7:function(e,i,t,n){var a,o;return(a="function"==typeof(o=i.content||e&&e.content)?o.call(e,{name:"content",hash:{},data:n}):o)||0===a?a:""},compiler:[5,">= 2.0.0"],main:function(e,i,t,n){var a;return t='<div class="holder-label">\n    <div class="info ',((a=i.if.call(e,e&&e.defaultLabel,{name:"if",hash:{},fn:this.program(1,n),inverse:this.noop,data:n}))||0===a)&&(t+=a),t+='">',((a=i.if.call(e,e&&e.defaultLabel,{name:"if",hash:{},fn:this.program(3,n),inverse:this.program(5,n),data:n}))||0===a)&&(t+=a),t+='</div>\n    <div class="content">',((a=i.if.call(e,e&&e.content,{name:"if",hash:{},fn:this.program(7,n),inverse:this.noop,data:n}))||0===a)&&(t+=a),t+"</div>\n</div>\n"},useData:!0})}(),s=function(e){return Handlebars.registerPartial("InputMixinHolderLabel",e.HolderLabelTemplate),{dependencies:[],trackedEvents:function(){return[{type:"focus",selector:".label[data-holder] input",name:"focus_input",handler:"__onHolderInputFocus"},{type:"blur",selector:".label[data-holder] input",name:"blur_input",handler:"__onHolderInputBlur"}]},initialize:function(){var e;this.render=(e=this.render,function(){e.apply(this,arguments),this.__insertLabelTemplate(this.$(".label[data-holder]"))})},__insertLabelTemplate:function(i){(i=(i instanceof $?i:this.$(i)).not(":has(>.holder-label)")).prepend(e.HolderLabelTemplate()),i.filter("[data-dropdown]").each(function(e,i){this.__setInputLabelMsg(i,$(i).attr("data-holder"))}.bind(this))},__onHolderInputFocus:function(e){(e=$(e.currentTarget)).attr("placeholder",""),e=e.closest(".label[data-holder]").removeClass("error"),this.__insertLabelTemplate(e),e.find(">.holder-label >.info").html(e.attr("data-holder")).addClass("show-label")},__onHolderInputBlur:function(e){if(!(e=$(e.currentTarget)).val()){var i=e.closest(".label[data-holder]");e.attr("placeholder",i.attr("data-holder")),i.hasClass("error")||i.find(">.holder-label >.info").html("&nbsp;").removeClass("show-label")}},__clearError:function(e){var i=(e=$(e).closest(".label[data-holder]").removeClass("error")).find("input");!i[0]||i.val()?this.__setInputLabelMsg(e,e.attr("data-holder")):(i.attr("placeholder",e.attr("data-holder")),e.find(">.holder-label >.info").html("&nbsp;").removeClass("show-label"))},__setInputLabelMsg:function(e,i){var t=e instanceof $?e:this.$(e);t.find(">.holder-label >.info").html(i).toggleClass("show-label",!!t.attr("data-holder")||t.hasClass("error"))},__setInputErrorLabelMsg:function(e,i){this.__setInputLabelMsg(this.$(e).addClass("error"),i)}}}({UiCore:e["@UiCore"],HolderLabelTemplate:s}),function(){var e=Handlebars.template;return Handlebars.templates=Handlebars.templates||{},e({compiler:[5,">= 2.0.0"],main:function(e,i,t,n){var a;t=i.helperMissing;var o='<div class="copy-body">\n    ';return((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"privacy_pending_guardian_approval_1",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+="\n    ",((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"privacy_pending_guardian_approval_2",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+="\n    ",((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"privacy_pending_guardian_approval_3",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+='\n    <a href="https://help.imvu.com" target="_blank">',((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"Help Center",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+='.</a></div>\n</div>\n<div class="privacy-policy-link"><a href="https://www.imvu.com/catalog/web_info.php?topic=privacy">',((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"view_privacy_policy",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+='</a></div>\n\n<script type="text/template" class="dialog-footer-template">\n    <button class="btn btn-primary full-width">',((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"close pending policy",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+"</button>\n<\/script>\n\n"},useData:!0})}()),d=(i={Dialogs:e["@Dialogs"]}.Dialogs.AlloyModalDialog).extend("TooltipDialog",{uiContextName:"tooltip_dialog",className:"tooltip-dialog dialog-type-B text-close",trackedEvents:function(){return this.__customTrackedEvents},initialize:function(e){this.__customTrackedEvents=e.trackedEvents||[],i.prototype.initialize.call(this,e),this.title=e.title,this.__tooltipContent=e.tooltipContent,this.addToDOM()},postRender:function(){this.setContent("body",this.__tooltipContent)}}),c=(d=function(e){var i=e.UiCore.UiContext;return i.extend("Tooltip",{className:"tooltip",uiContextName:"tooltip",dependencies:["dialogManager","timer","tooltipLayer","window"],trackedEvents:function(){return[{type:"click",selector:"a",name:"link_click",handler:"__clickedLink",allowBubble:!0}].concat(this.__customTrackedEvents)},__installTooltipLayerEventHandlers:function(){this.__tooltipLayer.$el.on("mouseenter.tooltip",".tooltip",function(){this.__timer.clearTimeout(this.__targetTimeout),this.__timer.clearTimeout(this.__tooltipTimeout),this.$target.off("mouseleave.tooltip")}.bind(this)),this.__tooltipLayer.$el.on("mouseleave.tooltip",".tooltip",function(){this.__timer.clearTimeout(this.__tooltipTimeout),this.__tooltipTimeout=this.__timer.setTimeout(function(){this.setVisible(!1),this.__timer.clearTimeout(this.__tooltipTimeout),this.__tooltipTimeout=this.__timer.setTimeout(function(){this.__hide(),this.__installTargetMouseleave()}.bind(this),125)}.bind(this),250)}.bind(this))},__removeTooltipLayerEventHandlers:function(){this.__tooltipLayer.$el.off(".tooltip")},initialize:function(e){this.$tooltip=IMVU.requireProperty(e,"$replaceElement"),this.$target=IMVU.requireProperty(e,"$tooltipTarget"),this.tooltipTitle=IMVU.optionalProperty(e,"title",!1),this.__tooltipStyle=IMVU.optionalProperty(e,"tooltipStyle","default"),this.__customTrackedEvents=e.trackedEvents||[],i.prototype.initialize.call(this,e),this.$body=$("body"),this.$globalNav=$("nav.global-nav:visible"),"mobile"===this.__serviceProvider.get("platform")?this.$target.on("click.tooltip",function(e){e.stopPropagation(),this.__openTooltipDialog()}.bind(this)):this.$target.on("mouseenter.tooltip",function(){this.__timer.clearTimeout(this.__targetTimeout),this.__timer.clearTimeout(this.__tooltipTimeout),this.__timer.clearTimeout(this.__targetFadeinTimeout),this.__installTargetMouseleave(),this.__targetFadeinTimeout=this.__timer.setTimeout(function(){this.setVisible(!0),this.__show()}.bind(this),250)}.bind(this)),"snug"===this.__tooltipStyle&&this.$el.addClass("tooltip-snug"),this.$el.append(this.$tooltip),this.setParentUiContext(this.__tooltipLayer),this.__tooltipLayer.$el.append(this.$el)},setVisible:function(e){this.$el.toggleClass("tooltip-open",!!e)},__installTargetMouseleave:function(){this.$target.on("mouseleave.tooltip",function(){this.__timer.clearTimeout(this.__targetTimeout),this.__targetTimeout=this.__timer.setTimeout(function(){this.setVisible(!1),this.__timer.clearTimeout(this.__targetTimeout),this.__targetTimeout=this.__timer.setTimeout(function(){this.__hide()}.bind(this),125)}.bind(this),250)}.bind(this))},__show:function(){this.__installTooltipLayerEventHandlers(),this.__trackTooltip(),$(this.__window).on("scroll.tooltip",function(){this.__trackTooltip()}.bind(this)),this.$body.find(".transparent-overlay").on("scroll.tooltip",function(){this.__trackTooltip()}.bind(this))},__trackTooltip:function(){var e=this.$globalNav.height(),i=this.$target[0].getBoundingClientRect().top,t=this.$target[0].getBoundingClientRect().left,n=$(window).width()-(t+this.$target.outerWidth()/2),a=this.$el[0].offsetWidth;0<this.$target.parents(".dialog-manager").length&&(e=0),t=n>a?t+this.$target.width()/2:t+this.$target.width()/2-a,this.$el.css({"margin-top":Math.max(i,e),"margin-left":t})},__hide:function(){this.__removeTooltipLayerEventHandlers(),this.setVisible(!1)},__openTooltipDialog:function(){return this.__dialogManager.showDialog(e.TooltipDialog,{title:this.tooltipTitle||this.$target.text(),tooltipContent:this.$tooltip.html(),trackedEvents:this.__customTrackedEvents})},delete:function(){this.$el.removeAttr("style"),this.__timer.clearTimeout(this.__targetFadeinTimeout),this.__timer.clearTimeout(this.__targetTimeout),this.__timer.clearTimeout(this.__tooltipTimeout),this.$target.off(".tooltip"),this.__removeTooltipLayerEventHandlers(),$(this.__window).off("scroll.tooltip"),this.$body.find(".transparent-overlay").off("scroll.tooltip"),i.prototype.delete.call(this)},__clickedLink:function(){this.__hide()}})}({UiCore:e["@UiCore"],TooltipDialog:d}),r=function(e){var i=e.Dialogs.AlloyModalDialog;return i.extend("PrivacyPolicyMinorsPendingDialog",{uiContextName:"privacy_policy_minors_pending_dialog",className:"privacy-policy-minors-pending-dialog dialog-type-B",dependencies:["cookieManager","globalStringManager"],trackedEvents:function(){return[{type:"click",selector:"button",name:"submit_privacy_policy_adult_okay",handler:"__onClose"}]},initialize:function(e){i.prototype.initialize.call(this,e),this.title=this.__globalStringManager.get("privacy_pending_guardian_approval_title"),this.addToDOM(),this.$(".dialog-x").remove()},postRender:function(){this.setContent("body",e.template,{}),this.setContent("footer",this.$(".dialog-footer-template").text())},__onClose:function(e){i.prototype.__onClose.call(this,e)}})}({Dialogs:e["@Dialogs"],Tooltip:d,template:r}),function(){var e=Handlebars.template;return Handlebars.templates=Handlebars.templates||{},e({compiler:[5,">= 2.0.0"],main:function(e,i,t,n){var a;t=i.helperMissing;var o='<div class="copy-body">\n    ';return((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"privacy_policy_adult_dialog_body_1",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+='\n    <a href="#" class="tooltip-target">',((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"privacy_policy_adult_dialog_body_2",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+="</a>\n    ",((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"privacy_policy_adult_dialog_body_3",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+='\n    <a href="https://www.imvu.com/catalog/web_info.php?topic=privacy">',((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"privacy_policy_adult_dialog_body_4",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+="</a>\n    ",((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"privacy_policy_adult_dialog_body_5",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+="\n    <br>\n    ",((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"privacy_policy_adult_dialog_body_6",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+='\n\n    <div class="accept-button">\n        <button class="btn btn-primary accept-cookies">',((a=(i["i18n-g"]||e&&e["i18n-g"]||t).call(e,"accept all cookies",{name:"i18n-g",hash:{},data:n}))||0===a)&&(o+=a),o+'</button>\n    </div> \n</div>\n\n\n<div class="tooltip-content cookie-tooltip">\n    <div class="tooltip-body">\n        To give you the best possible experience, personalize content and ads, this site uses Cookies. Continuing to use the site you agree we may place these cookies on your device. You can view our Privacy Policy for more details.\n\n        <div class="tooltip-header">Strictly Necessary Cookies:</div>\n            <div>These cookies are necessary for the website to function and cannot be switched off in our systems. </div>\n            <ul>\n                <li>prefer_alloy - Used to determine if you see IMVU Next or Core.</li>\n                <li>alloy_landing_cookie - Used to determine if you see IMVU Next or Core.</li>\n                <li>in_ux - Assigned to a "unique user" experiment.</li>\n                <li>osCsid - Session cookie; required for login to function.</li>\n            </ul>\n        <div class="tooltip-header">Performance Cookies:</div>\n            <div>These cookies allow us to count visits and traffic sources, so we can measure and improve the performance of our site. They help us know which pages are the most and least popular and see how visitors move around the site.</div>\n            <ul>\n                <li>browser_session - Tracks statistics about your IMVU session.</li>\n                <li>window_session - Tracks statistics about a specific IMVU window.</li>\n                <li>Targeting Cookies</li>\n                <li>These cookies are set through our site by our advertising partners. They may be used by those companies to build a profile of your interests and show you relevant ads on other sites. They work by uniquely identifying your browser and device.</li>\n                <li>login_interstitial_seen - tracks the last time you saw an interstitial, for aggregate analytics purposes.</li>\n                <li>sncd - Tracks CIDs you have logged into, for detecting if a new account is an alt.</li>\n                <li>nunu - Tracks if we believe you are a new new user.</li>\n                <li>preLogID - Used to connect incoming users with their subsequent login or registration.</li>\n                <li>imvua - Tracks which acquisition partner you came from.</li>\n                <li>datetime_entered - Tracks when you first landed on our site.</li>\n                <li>linkshare_site_id - If acquired through a specific partner, tracks which ad you followed.</li>\n                <li>lpip - Stores the IP you hit a landing page with.</li>\n            </ul>\n        <div class="tooltip-header">Presentation Cookies:</div>\n            <div>These cookies are set to help enhance your experience and for example, allow us to show you IMVU in the language of your choice.</div>\n            <ul>\n                <li>imvu_avnm - stores your avatarname for display purposes.</li>\n                <li>saved_locale - stores which language you prefer to see IMVU in.</li>\n            </ul>\n        <div class="tooltip-header">Third Party Partners:</div>\n            <div>We also have third party partners who may set cookies including this list below:</div>\n            <ul>\n                <li>Amazon</li>\n                <li>Doubleverify</li>\n                <li>Facebook</li>\n                <li>Google</li>\n                <li>Peanutlabs</li>\n                <li>Revenue Universe</li>\n                <li>AppNexus</li>\n                <li>Google Analytics</li>\n                <li>Threat Metrix</li>​\n            </ul>\n    </div>\n</div>'},useData:!0})}());d=function(e){var i=e.Dialogs.AlloyModalDialog;return i.extend("PrivacyPolicyAdultDialog",{uiContextName:"privacy_policy_adult_dialog",className:"privacy-policy-adult-dialog dialog-type-B",dependencies:["cookieManager","globalStringManager"],trackedEvents:function(){return[{type:"click",selector:"button",name:"submit_privacy_policy_adult_okay",handler:"__onClose"}]},initialize:function(e){i.prototype.initialize.call(this,e),this.title=this.__globalStringManager.get("privacy_policy_adult_dialog_title"),this.addToDOM(),this.$(".dialog-x").remove()},postRender:function(){this.setContent("body",e.template,{}),this.tooltip=this.createChildContext(e.Tooltip,{$replaceElement:this.$(".tooltip-content"),$tooltipTarget:this.$(".tooltip-target")}),this.tooltip.$el.addClass("tooltip-wide")},__onClose:function(e){this.__cookieManager.set("accepted_all_cookies",!0),i.prototype.__onClose.call(this,e)}})}({Dialogs:e["@Dialogs"],Tooltip:d,template:c}),a=function(e){var i=e.Dialogs.AlloyModalDialog;return i.extend("LoginDialog",e.Mixin.mixin({uiContextName:"login_dialog",className:"login-dialog dialog-type-B-flexible",dependencies:"cookieManager dialogManager globalStringManager googleAnalytics leanplum loginManager modeManager restModelFactory window".split(" "),trackedEvents:function(){return[{type:"submit",selector:"form.login",name:"login",handler:"__onLogin"},{type:"click",selector:".id-signup",name:"signup",handler:"__onClickSignup"},{type:"click",selector:".id-fb",name:"fb_login",handler:this.__onClickFB},{type:"click",selector:".toggle-password-visibility",name:"toggle_password_visibility",handler:"__togglePasswordVisibility"},{type:"click",selector:".forgot-password-link",name:"forgot_password",handler:"__forgotPassword"},{type:"click",selector:".ios-button",name:"download_ios",handler:"__downloadIos"},{type:"click",selector:".android-button",name:"download_android",handler:"__downloadAndroid"}]},initialize:function(e){this.title=e.globalStringManager.get("welcome_login_dialog_signin"),void 0!==e.globalStringManager&&(this.__globalStringManager=e.globalStringManager),this.hasCloseButton=!!_.isUndefined(e.hasCloseButton)||e.hasCloseButton,this.__loginMode=e.loginMode,i.prototype.initialize.call(this,e),this.__loginCookieName=this.__serviceProvider.get("loginCookieName"),this.__cookieManager=this.__serviceProvider.get("cookieManager"),this.__hasSignupButton=!!_.isUndefined(e.hasSignupButton)||e.hasSignupButton,this.__loginUsername=this.__cookieManager.get("login_username")?this.__cookieManager.get("login_username"):"",this.__refreshOnLogin=e.refreshOnLogin||"mobile"===this.__serviceProvider.get("platform"),this.__loginDestination=e.loginDestination,this.shouldFocusOnPrimaryButton=!1,this.__socialLogin=this.__loginManager.getSocialLogin(),this.__socialLogin.checkLoginState(),this.__hadSocialLogin=this.__socialLogin.isLoggedIn(),this.__socialLogin.logout(),this.addToDOM()},postRender:function(){if(this.__loginUsername=void 0===this.__loginUsername?"":this.__loginUsername,this.__loginUsername="undefined"===this.__loginUsername?"":this.__loginUsername,this.__loginUsername=null===this.__loginUsername?"":this.__loginUsername,this.setContent("body",e.template,{username:this.__loginUsername,passwordHolderContent:this.__globalStringManager.get("login_dialog_forgot_credentials")}),this.$(".login_avatarname input").focus(),this.__loginUsername&&this.$(".login_password input").focus(),this.$(".login").toggleClass("can-signup",this.__hasSignupButton),this.__loginUsername){var i=this.$('input[name="avatarname"]').closest(".label[data-holder]");this.__insertLabelTemplate(i),i.hasClass("ignore-placeholder-behavior")||i.find(">.holder-label >.info").html(i.attr("data-holder"))}},__onLogin:function(i){null!==i&&i.preventDefault(),this.__leanplum.recordEvent("login_click",{mode:this.__loginMode}),i="true"===this.__cookieManager.get("accepted_all_cookies");var t=this.__socialLogin.isLoggedIn()?{email:this.__socialLogin.getProfileItem("email"),platform:"facebook_web",platform_token:this.__socialLogin.__fbAuthResponse.accessToken,platform_uid:this.__socialLogin.__fbAuthResponse.userID,gdpr_cookie_acceptance:i}:{username:this.$('[name="avatarname"]').val(),password:this.$('[name="password"]').val(),gdpr_cookie_acceptance:i};this.$("label.submit").addClass("loading"),this.__loginManager.performLoginFromCredentials(this.__serviceProvider,t).then(function(i){if(this.__restModelFactory.readModel(i.relations.user,e.UiCore.NodeModel).populated().then(function(e){this.__leanplum.recordEvent("welcome_login_success",{cid:e.get("legacy_cid").toString()})}.bind(this)),this.__googleAnalytics.recordSuccessfulAuthentication("true"),this.$("label.submit").removeClass("loading"),this.$(".error-message").removeClass("active").css("height",""),this.__cookieManager.set(this.__loginCookieName,"true"),this.__cookieManager.set("prefer_alloy","1"),this.__cookieManager.set("login_username",t.username),this.__cookieManager.set("password_changed","0"),this.__loginDestination)this.__window.location.href=this.__loginDestination;else if(this.__loginManager.getLoginDestination())this.__window.location.href=this.__loginManager.getLoginDestination();else if(this.__serviceProvider.services.overrideMode&&"ftux"!==this.__serviceProvider.services.overrideMode)i=this.__serviceProvider.get("siteRoot"),i+=this.__serviceProvider.get("startMode")+"/",this.__serviceProvider.services.startSubmode&&(i+=this.__urlId(this.serviceProvider.get("startSubmode"))+"/"),this.__window.location.href=i;else if(this.__refreshOnLogin)this.__window.location.reload();else{var n=this.__restModelFactory.readModel(i.relations.user,e.UiCore.NodeModel);n.populated().then(function(){return n.getEdgeCollection("preferences",e.UiCore.RestCollection)}.bind(this)).then(function(e){return this.__prefs=e,this.__prefs.populated()}.bind(this)).then(function(){for(var e=!1,i=0;i<this.__prefs.length;i++){var t=this.__prefs.at(i);"registered_through_alloy"!==t.get("name")&&"registered_through_mobile"!==t.get("name")&&"pure_mobile_access"!==t.get("name")||!t.get("value")||(e=!0,this.__window.location.reload())}e||(this.__window.location.href="/switch_to/classic/")}.bind(this))}}.bind(this),function(i){var t="credentials";i===this.__loginManager.ERROR_TRY_AGAIN_LATER?t="try-again-later":i===this.__loginManager.ERROR_DISABLED?t="disabled":i!==this.__loginManager.ERROR_UNDERAGE&&i!==this.__loginManager.ERROR_COOKIE_UNACCEPT&&i!==this.__loginManager.ERROR_UNDERAGE_PENDING_CONSENT||(t="disabled",this.__showPrivacyPolicyDialog(i)),this.__leanplum.recordEvent("welcome_login_error",{error:t}),e.NextUtil.DomHelper.radioClass(this.$(".error-message."+t),"active"),i=this.$(".error-message.active").height(),this.$(".error-message.active").css("height",0),this.$("label.submit").removeClass("loading"),this.$(".error-message.active").height(),this.$(".error-message.active").css("height",i)}.bind(this))},__onClickSignup:function(e){e.preventDefault(),this.__googleAnalytics.recordSignUpClick("login"),this.promiseResolver.resolve("signup"),this.__window.location.href="/welcome/ftux/gender/"},__onClickFB:function(){var e=function(){this.__onLogin(null)}.bind(this);this.hide(),this.__socialLogin.login(e)},__togglePasswordVisibility:function(){var e=this.$(".login_password input"),i="password"==e.attr("type");e[0].setAttribute("type",i?"text":"password"),this.$(".toggle-password-visibility").toggleClass("icon-password-show",!i).toggleClass("icon-password-hide",i),e.focus()},__forgotPassword:function(){this.__leanplum.recordEvent("welcome_login_forgot_password_click"),this.__window.location="/next/forgotpassword/"},__downloadIos:function(){this.__leanplum.recordEvent("welcome_login_download_ios_click")},__downloadAndroid:function(){this.__leanplum.recordEvent("welcome_login_download_android_click")},__onClose:function(e){i.prototype.__onClose.call(this,e),(!(e=-1!==this.__window.location.pathname.search("/welcome/ftux"))||e&&this.__hadSocialLogin)&&this.__modeManager.openMode({mode:{id:"ftux"},submode:{id:"__default__"}})},__showPrivacyPolicyDialog:function(i){var t=e.PrivacyPolicyAdultDialog;return i===this.__loginManager.ERROR_UNDERAGE?t=e.PrivacyPolicyMinorsDialog:i===this.__loginManager.ERROR_UNDERAGE_PENDING_CONSENT&&(t=e.PrivacyPolicyMinorsPendingDialog),this.__dialogManager.showDialog(t)}},e.InputMixin))}({Dialogs:e["@Dialogs"],NextUtil:e["@NextUtil"],UiCore:e["@UiCore"],InputMixin:s,Mixin:l,PrivacyPolicyMinorsDialog:o,PrivacyPolicyAdultDialog:d,PrivacyPolicyMinorsPendingDialog:r,template:a}),o=function(){var e=Handlebars.template;return Handlebars.templates=Handlebars.templates||{},e({1:function(e,i,t,n){var a;return"\n                <span>"+(0,this.escapeExpression)("function"==typeof(a=i.left_column_subtitle||e&&e.left_column_subtitle)?a.call(e,{name:"left_column_subtitle",hash:{},data:n}):a)+"</span>\n            "},compiler:[5,">= 2.0.0"],main:function(e,i,t,n){var a,o,l='<div class="top-row"></div>\n<div class="column-container">\n    <div class="left-column column">\n        <div class="back-bar">\n            <div class="icon">\n                <svg class="icon-back" width="20" height="20" viewBox="0 0 25 25"><title>back</title><path d="M8.9 12.5l6.82-7.25c.18-.2.28-.44.28-.7 0-.28-.1-.53-.28-.72-.4-.44-1.13-.44-1.54 0l-8.1 8.57-.08.1 8.2 8.67c.2.2.47.33.75.33s.54-.12.74-.33c.18-.2.28-.46.28-.74 0-.28-.1-.54-.3-.74l-6.8-7.2z" fill-rule="evenodd"/></svg>\n            </div>\n            <span>'+(t=this.escapeExpression)("function"==typeof(o=i.left_column_title||e&&e.left_column_title)?o.call(e,{name:"left_column_title",hash:{},data:n}):o)+"</span>\n            ";return((a=i.if.call(e,e&&e.left_column_subtitle,{name:"if",hash:{},fn:this.program(1,n),inverse:this.noop,data:n}))||0===a)&&(l+=a),l+'\n        </div>\n        <div class="left-sidebar"></div>\n    </div>\n    <div class="main-column column">\n        <div class="main-content"></div>\n    </div>\n    <div class="right-column column">\n        <div class="back-bar">\n            <div class="icon">\n                <svg class="icon-back" width="20" height="20" viewBox="0 0 25 25"><title>back</title><path d="M8.9 12.5l6.82-7.25c.18-.2.28-.44.28-.7 0-.28-.1-.53-.28-.72-.4-.44-1.13-.44-1.54 0l-8.1 8.57-.08.1 8.2 8.67c.2.2.47.33.75.33s.54-.12.74-.33c.18-.2.28-.46.28-.74 0-.28-.1-.54-.3-.74l-6.8-7.2z" fill-rule="evenodd"/></svg>\n            </div>\n            <span>'+t("function"==typeof(o=i.right_column_title||e&&e.right_column_title)?o.call(e,{name:"right_column_title",hash:{},data:n}):o)+'</span>\n        </div>\n        <div class="right-sidebar"></div>\n    </div>\n</div>\n<div class="fixed-position-ghost-layout">\n    <div class="top-row"></div>\n    <div class="column-container">\n        <div class="left-column column">\n            <div class="left-sidebar"></div>\n        </div>\n        <div class="main-column column">\n            <div class="main-content"></div>\n        </div>\n        <div class="right-column column">\n            <div class="right-sidebar"></div>\n        </div>\n    </div>\n</div>'},useData:!0})}(),o=function(e){var i=e.Widgets.WithmeContext;return i.extend("Submode",{__id:"",layout:"",dependencies:["googleAnalytics","mode","modeManager","window"],__recordShown:!0,drillDownFrom:null,initialize:function(e){e.id&&(this.__id=e.id),this.__window=e.serviceProvider.get("window"),i.prototype.initialize.call(this,e),this.__modeManager=e.modeManager,this.__googleAnalytics=e.googleAnalytics,this.__parentMode=e.mode,this.__parentMode.setLayout(this.layout),this.__slideIns=[]},render:function(){this.$el.html(e.template({left_column_title:this.leftColumnTitle,right_column_title:this.rightColumnTitle,left_column_subtitle:this.leftColumnSubTitle}))},subId:function(){return this.__id},summarize:function(){return{}},getTitle:function(){},overrideMainNav:null,overrideAuxNav:null,overrideNavLabel:null,show:function(e){i.prototype.show.call(this),this.$el.css("display",""),this.__parentMode.markActiveNav(this.subId()),this.__parentMode.updateTitle(),this.__googleAnalytics.recordPageView(this.__serviceProvider.get("appName")+"/"+this.__parentMode.modeId+"/"+("__default__"==this.subId()?"":this.subId())),"__default__"!==this.subId()&&this.__googleAnalytics.recordSubModeChange(this.subId())},__bringColumnToFront:function(e){var i=(e=e.closest(".column, .top-row")).parents(".fixed-position-ghost-layout");0<i.length&&i.addClass("in-use"),e.addClass("has-content")},__getWidgetContainer:function(e,i){return(i?this.$(".fixed-position-ghost-layout"):this.$el).find(e).first()},__addWidget:function(e,i,t,n){return e=this.__getWidgetContainer(e,n),this.__bringColumnToFront(e),this.createChildContext(i,_.extend({$parentElement:e},t))},addWidgetToTopRow:function(e,i,t){return this.__addWidget(".top-row",e,i,t)},addWidgetToBody:function(e,i,t){return this.__addWidget(".main-content",e,i,t)},addWidgetToLeftSidebar:function(e,i,t){return this.__addWidget(".left-sidebar",e,i,t)},addWidgetToRightSidebar:function(e,i,t){return this.__addWidget(".right-sidebar",e,i,t)},addSlideIn:function(e,i){var t=this.addWidgetToBody(e,i,!0);return this.__slideIns.push(t),t},hideAllSlideIns:function(){_.each(this.__slideIns,function(e){e.hide()}.bind(this))},toggleMagicLineMenu:function(e){void 0===this.__magicLine&&(this.__modeContainer=document.getElementsByClassName("mode-container")[0],this.__magicLine=this.__modeContainer.getElementsByClassName("magic-line-menu")[0]),void 0!==this.__magicLine&&(!0===e?this.__magicLine.classList.add("hidden"):this.__magicLine.classList.remove("hidden"))}})}({UiCore:e["@UiCore"],Widgets:e["@Widgets"],template:o}),n=function(e){var i=e.Submode;return i.extend("FtuxFrontpageSubmode",{uiContextName:"ftux_frontpage_submode",className:"submode submode-ftux-frontpage ftux-layout",dependencies:"cookieManager dialogManager featureAccessManager globalNav globalStringManager googleAnalytics leanplum localStorage loginManager Promise startupModel timer uiEventReporter webGL window".split(" "),trackedEvents:function(){return[{type:"click",selector:".id-continue",name:"lets_start",handler:this.__onClickCta},{type:"click",selector:".id-login",name:"login",handler:this.__showLogin.bind(this,!0,"ftux")},{type:"click",selector:".id-fb",name:"lets_start",handler:this.__onClickFB},{type:"click",selector:".login",name:"login",handler:this.__onClickBottomLogIn}]},show:function(){$(this.__window.landingVideoInfo.container).show(),this.__window.landingVideoInfo.video&&this.__window.landingVideoInfo.video.play(),i.prototype.show.call(this),this.refreshVideoSize()},hide:function(){$(this.__window.landingVideoInfo.container).hide(),this.__window.landingVideoInfo.video&&this.__window.landingVideoInfo.video.pause(),i.prototype.hide.call(this)},initialize:function(e){e.leanplum.recordEvent("user_landed"),i.prototype.initialize.call(this,e),$(this.__window).on("resize.ftux-frontpage",this.refreshVideoSize.bind(this)),this.__loadedMedia=0,this.__passwordChanged=!(!IMVU.optionalProperty(e,"passwordChanged",!1)&&"1"!=this.__cookieManager.get("password_changed")),this.__parentMode.hasOwnProperty("getConnectionTier")?this.__parentMode.getConnectionTier().then(function(){this.addToDOM()}.bind(this)):this.addToDOM(),(e=document.querySelectorAll("#landing-video source"))&&e.length&&(this.__recordEvent("next_video_branch",{record:!0,branch:this.__cookieManager.get("next_video"),webmVideo:e[0].getAttribute("src"),mp4Video:e[1].getAttribute("src")}),this.__uiEventReporter.flush()),this.__socialLogin=this.__loginManager.getSocialLogin()},delete:function(){$(this.__window).off("resize.ftux-frontpage"),this.__loadedMedia=0,_.each(this.__waitingImgs,function(e){$(e).off("load")}.bind(this)),_.each(this.__waitingVideos,function(e){$(e).off("loadeddata")}.bind(this)),this.__window.landingVideoInfo.video&&$(this.__window.landingVideoInfo.video).off("loadeddata"),i.prototype.delete.call(this)},isAllMediaLoaded:function(){var e=this.__waitingImgs.length+this.__waitingVideos.length+1;return this.__window.landingVideoInfo.isAlreadyLoaded&&e++,this.__loadedMedia>=e},__onLandingVideoLoaded:function(){$(this.__window).trigger("resize")},__onAnyMediaLoaded:function(){this.__loadedMedia++,this.isAllMediaLoaded()&&(this.__recordEvent("ftux_front_page_load_time",{record:!0,time:(Date.now()-this.__window.loadStartTime)/1e3}),this.__modeManager.recordPageReady(),this.__uiEventReporter.flush())},render:function(){i.prototype.render.call(this),this.__globalNav.setText(this.__globalStringManager.get("WELCOME TO IMVU")),this.$el.html(e.template({})),this.__waitingImgs=this.$("img"),this.__waitingVideos=this.$("video"),_.each(this.__waitingImgs,function(e){$(e).on("load",this.__onAnyMediaLoaded.bind(this))}.bind(this)),_.each(this.__waitingVideos,function(e){$(e).on("loadeddata",this.__onAnyMediaLoaded.bind(this))}.bind(this)),$(this.__window.landingVideoInfo.video).on("loadeddata",this.__onLandingVideoLoaded.bind(this)),this.__onAnyMediaLoaded(),this.__window.landingVideoInfo.isAlreadyLoaded&&(this.__onAnyMediaLoaded(),this.__onLandingVideoLoaded()),this.__webGL.use3d()||(this.__parentMode.show2dAvatar({gender:"female",$parentElement:this.$(".ftux-avatar-cache"),parentContext:this,allowDuplicates:!0}),this.__parentMode.show2dAvatar({gender:"male",$parentElement:this.$(".ftux-avatar-cache"),parentContext:this,allowDuplicates:!0}))},refreshVideoSize:function(){var e=$(this.__window.landingVideoInfo.container),i=$(this.__window.landingVideoInfo.video);i.addClass("is-refreshed"),!i.hasClass("is-full-height")&&i.height()<e.height()&&i.addClass("is-full-height"),i.hasClass("is-full-height")&&i.width()<e.width()&&i.removeClass("is-full-height")},__onClickCta:function(){this.__globalNav.toggleLogo(!0),this.__leanplum.recordEvent("welcome_signup_click",{mode:"ftux"}),this.__googleAnalytics.recordClick("welcome","get started"),this.$el.fadeOut(300,function(){this.__parentMode.openSubmode({id:"gender"})}.bind(this))},__onClickFB:function(){var e=function(){this.__onClickCta()}.bind(this);this.__socialLogin.new(e)},__showLogin:function(e,i){var t=i||"ftux";e&&this.__googleAnalytics.recordClick("welcome","show login"),this.__loginDialog=this.__globalNav.showLoginDialog({loginMode:t}).then(function(e){"signup"==e&&this.__onClickCta()}.bind(this))},__onClickBottomLogIn:function(){var i=this.__serviceProvider.get("loginDestination")||this.__serviceProvider.get("siteRoot").replace("welcome","next");this.__loginDialog=this.__dialogManager.showDialog(e.LoginDialog,{loginDestination:i,isFrontpage:!0})}})}({UiCore:e["@UiCore"],LoginDialog:a,Submode:o,template:n}),n=function(i){var t={UiCore:e["@UiCore"],FtuxFrontpageSubmode:n}.FtuxFrontpageSubmode;return t.extend("FtuxFrontpageSubmode",{dependencies:t.prototype.dependencies.concat(["modeManager"]),__onAnyMediaLoaded:function(){t.prototype.__onAnyMediaLoaded.call(this),this.isAllMediaLoaded()&&this.__showLogin(!1,"login")},__onClickCta:function(){var e="/welcome/ftux/gender/",i=this.__serviceProvider.get("queryParams");i&&(e+="?"+$.param(i)),this.__localStorage.setItem("__alt_signup",!0),this.__leanplum.recordEvent("welcome_signup_click",{mode:"login"}),this.__googleAnalytics.recordClick("welcome","get started"),this.__window.location.href=e}})}(),a=function(){var e=Handlebars.template;return Handlebars.templates=Handlebars.templates||{},e({compiler:[5,">= 2.0.0"],main:function(){return'<nav class="mode-nav bar magic-line-menu disable-text-selection">\n    <div class="center-nav-container">\n        <ul class="center-nav"></ul>\n        <div class="magic-line"></div>\n    </div>\n    <div class="simple-scroller-placeholder"></div>\n    <div class=\'nav-label\'>\n        <span class=\'label\'></span>\n        <div class=\'dismiss\'></div>\n    </div>\n    <ul class="aux-nav"></ul>\n</nav>\n<header></header>\n<div class="submodes"></div>\n'},useData:!0})}(),o=function(){var e=Handlebars.template;return Handlebars.templates=Handlebars.templates||{},e({1:function(){return" disabled"},3:function(e,i,t,n){var a;return'<button class="btn btn-primary">'+(0,this.escapeExpression)("function"==typeof(a=i.text||e&&e.text)?a.call(e,{name:"text",hash:{},data:n}):a)+"</button>"},5:function(){return'<div class="name-widget-goes-here"></div>'},7:function(e,i,t,n){var a,o;return t="<a>",((a="function"==typeof(o=i.text||e&&e.text)?o.call(e,{name:"text",hash:{},data:n}):o)||0===a)&&(t+=a),t+"</a>"},9:function(){return'<span class="icon"></span>'},compiler:[5,">= 2.0.0"],main:function(e,i,t,n){var a,o;return t='<li data-nav="'+(t=this.escapeExpression)("function"==typeof(o=i.name||e&&e.name)?o.call(e,{name:"name",hash:{},data:n}):o),((a=i.if.call(e,e&&e.disabled,{name:"if",hash:{},fn:this.program(1,n),inverse:this.noop,data:n}))||0===a)&&(t+=a),t+='">',((a=i.if.call(e,e&&e.is_button,{name:"if",hash:{},fn:this.program(3,n),inverse:this.noop,data:n}))||0===a)&&(t+=a),((a=i.if.call(e,e&&e.is_name_widget,{name:"if",hash:{},fn:this.program(5,n),inverse:this.noop,data:n}))||0===a)&&(t+=a),((a=i.if.call(e,e&&e.is_text,{name:"if",hash:{},fn:this.program(7,n),inverse:this.noop,data:n}))||0===a)&&(t+=a),((a=i.if.call(e,e&&e.is_default,{name:"if",hash:{},fn:this.program(9,n),inverse:this.noop,data:n}))||0===a)&&(t+=a),t+"</li>"},useData:!0})}(),l=function(){var e=Handlebars.template;return Handlebars.templates=Handlebars.templates||{},e({compiler:[5,">= 2.0.0"],main:function(){return'<div class="simple-scroller-viewport"></div>\n<button class="btn btn-tertiary simple-scroller-right" disabled></button>\n<button class="btn btn-tertiary simple-scroller-left" disabled></button>'},useData:!0})}(),l=function(e){var i=0,t=e.UiCore.UiContext;return e.UiCore.UiContext.extend("SimpleScroller",{className:"simple-scroller disable-text-selection",uiContextName:"simple_scroller",keepGoingThreshold:50,dependencies:["$target","window","timer"],initialize:function(n){t.prototype.initialize.call(this,n),this.__instanceNumber=i++,this.__absoluteScrollBy=n.scrollBy||!1,this.__window=n.window,this.__autoRefresh=!!n.autoRefresh,this.__timer=n.timer,this.__$target=n.$target,this.__$target.parent(".simple-scroller-viewport").length||(this.template=n.template||e.template,this.addToDOM(),this._refreshScrollabilityCount=0,this.$(".simple-scroller-viewport").on("scroll.simple-scroller",this.refreshScrollability.bind(this)),this.$(".simple-scroller-left").on("click",this.scrollLeft.bind(this)),this.$(".simple-scroller-right").on("click",this.scrollRight.bind(this)),$(this.__window).on(this.__getEventNamespaceForThisInstance("resize"),this.refreshScrollability.bind(this)))},__getEventNamespaceForThisInstance:function(e){return e+".ss-"+this.__instanceNumber},delete:function(){$(this.__window).off(this.__getEventNamespaceForThisInstance("resize")),this.$(".simple-scroller-viewport").off(".simple-scroller"),this.__refreshTimer&&this.__timer.clearInterval(this.__refreshTimer),t.prototype.delete.call(this)},render:function(){this.$el.html(this.template),this.$(".simple-scroller-viewport").append(this.__$target),this.__$target.addClass("simple-scroller-target"),this.refreshScrollability(),this.__autoRefresh&&(this.__refreshTimer=this.__timer.setInterval(function(){this.$el.is(":visible")&&this.refreshScrollability()}.bind(this),300))},viewportWidth:function(){return this.$(".simple-scroller-viewport").outerWidth()},leftEdge:function(){return this.$(".simple-scroller-viewport").scrollLeft()},rightEdge:function(){return this.scrollWidth()-this.viewportWidth()-1},scrollWidth:function(){return this.$(".simple-scroller-viewport")[0].scrollWidth},scrollBy:function(){return this.__absoluteScrollBy||this.viewportWidth()/2},refreshLeftScrollability:function(){this.$(".simple-scroller-left").prop("disabled",0>=this.leftEdge())},refreshRightScrollability:function(){this.$(".simple-scroller-right").prop("disabled",this.leftEdge()>=this.rightEdge())},refreshScrollability:function(){this._refreshScrollabilityCount++,this.refreshLeftScrollability(),this.refreshRightScrollability()},scroll:function(e){this.$(".simple-scroller-viewport").animate({scrollLeft:"+="+e},150,this.refreshScrollability.bind(this))},scrollLeft:function(e){e=this.scrollBy(),this.leftEdge()-e<this.keepGoingThreshold&&(e*=2),this.scroll(-e)},scrollRight:function(e){e=this.scrollBy(),this.leftEdge()+e>this.rightEdge()-this.keepGoingThreshold&&(e*=2),this.scroll(e)},resetPosition:function(){this.$(".simple-scroller-viewport").scrollLeft(0),this.refreshScrollability()}})}({UiCore:e["@UiCore"],template:l}),s=function(e){function i(e,i){var t=e.get("bootstrapParams").is_app;e.get("window").open(i,t?"_system":"_blank")}function t(e){return-1!==e.indexOf("iPad")||-1!==e.indexOf("iPhone")||-1!==e.indexOf("iPod")}return{openExternal:i,externalizeA:function(e,t){var n=$(t),a=n.attr("href");n.attr("href",""),n.click(function(){return i(e,a),!1})},isAndroid:function(e){return-1!==e.get("window").navigator.userAgent.indexOf("Android")},isAndroidChrome:function(e){return-1!==(e=e.get("window").navigator.userAgent).indexOf("Android")&&-1!==e.indexOf("Chrome/")&&-1===e.indexOf("Version/")},isAndroidWebApp:function(e){return!(-1===(e=e.get("window")).navigator.userAgent.indexOf("Android")||!e.navigator.standalone)},isIOS:function(e){return t(e=e.get("window").navigator.userAgent)},isIOSSafari:function(e){return!(!t(e=e.get("window").navigator.userAgent)||-1!==e.indexOf("CriOS/"))&&(-1!==e.indexOf("Safari/")||-1!==e.indexOf("AppleWebKit/")&&-1===e.indexOf("Chrome/"))},getVersionIOS:function(e){return t(e=e.get("window").navigator.userAgent)?null===(e=/(iphone|ipad)(; CPU)? OS ((\d+)_(\d+)(_(\d+))?)/i.exec(e))?null:{raw:e[3],major:parseInt(e[4],10),minor:parseInt(e[5],10),revision:e[7]?parseInt(e[7],10):null}:null}}}(),a=function(e){var i=e.UiCore.UiContext;return i.extend("Mode",{uiContextName:"generic_mode",className:"mode",navId:null,submodes:{},dependencies:"globalNav googleAnalytics historyManager id platform restModelFactory siteRoot stringManager timer window".split(" "),__recordShown:!0,trackedEvents:function(){var e=function(e){return{which:e.attr("data-nav")}};return[{type:"click",selector:".mode-nav .center-nav > li",name:"mode_nav",handler:"__onClickNavButton",allowBubble:!0,attributes:e},{type:"click",selector:".mode-nav .aux-nav > li",name:"aux_nav",handler:"__onClickNavButton",allowBubble:!0,attributes:e},{type:"click",selector:".right-column .back-bar .icon",name:"collapse_right_column",handler:function(){this.toggleRightColumn(!0)}.bind(this)},{type:"click",selector:".left-column .back-bar .icon",name:"collapse_left_column",handler:function(){this.toggleLeftColumn()}.bind(this)},{type:"click",selector:".mode-nav .nav-label .dismiss",name:"dismiss_nav_label",handler:"__dismissNavLabel"}]},mainNav:function(){return null},auxNav:function(){return null},navLabel:function(){return null},initialize:function(e){i.prototype.initialize.call(this,e),this.className+=" mode",this.modeId=e.id,this.__serviceProvider=e.serviceProvider,this.__globalNav=e.globalNav,this.__historyManager=e.historyManager,this.__submodeInstances={},this.__currentSubmode=this.__submodeDefs=null,this.__window=e.window,this.__navHandlers={},this.__currentNavLabelModel=this.__currentAuxNavModel=this.__currentMainNavModel=null,this.__serviceProvider.register("mode",this),this.__stringManager=e.stringManager,this.__platform=e.platform,this.__googleAnalytics=e.googleAnalytics,this.__restModelFactory=e.restModelFactory,this.__submodeIdHistory=[null,null]},render:function(){this.$el.html(e.template)},getModeUrl:function(){return this.__siteRoot+this.modeId+"/"},getSubmodeUrl:function(e){return this.getModeUrl()+e+"/"},getTitle:function(){return this.__stringManager.getWithDefault("mode_name","")},updateTitle:function(){var e=this.getTitle();if(this.__currentSubmode){var i=this.__currentSubmode.getTitle();void 0!==i&&(e=i)}this.__serviceProvider.get("modeManager").setTitle(e)},show:function(e){$("html").removeAttr("data-modifier"),this.$el.parents("body").find(".loading-facade .loading").remove(),e=e||{},i.prototype.show.call(this),this.updateTitle(),this.__serviceProvider.get("globalNav").markActiveMode(this),e.submode?this.__submodeInstances[e.submode.id]?this.__showSubmode(this.__submodeInstances[e.submode.id],e.submode):this.openSubmode(e.submode):this.__currentSubmode&&(this.refreshNav(),this.__currentSubmode.show({}),e.poppingHistory||this.__historyManager.setState({fragment:"__default__"===this.__currentSubmodeId?"":this.__urlId(this.__currentSubmodeId),mode:{id:this.modeId},submode:{id:this.__currentSubmodeId,summary:this.__currentSubmode.summarize()}})),this.__googleAnalytics.recordModeChange(this.modeId)},hide:function(){i.prototype.hide.call(this),this.__currentSubmode&&this.__currentSubmode.hide()},openDefaultView:function(e){this.openSubmode(_.extend({id:"__default__"},e||{}))},refreshNav:function(){if(this.$(".mode-nav .magic-line").hide(),this.__globalNav.setVisibility(!0),this.collapseLeftAndRightColumns(),this.__currentSubmode){var e=this.__currentSubmode.overrideMainNav?this.__currentSubmode.overrideMainNav():this.mainNav();this.__setupModeNav(e,this.__currentSubmode.overrideAuxNav?this.__currentSubmode.overrideAuxNav():this.auxNav(),this.__currentSubmode.overrideNavLabel?this.__currentSubmode.overrideNavLabel():this.navLabel()),this.__globalNav.drillDown(!!this.__currentSubmode.drillDownFrom)}},markActiveNav:function(e){(e=this.$('.mode-nav li[data-nav="'+e+'"]')).length&&(this.$(".mode-nav li.active").removeClass("active"),e.addClass("active"),e[0].scrollIntoView(!1),this.$(".mode-nav .magic-line").show().css({"margin-left":e.find("a").position().left+"px",width:e.find("a").outerWidth()}))},refreshMagicLine:function(){var e=this.$(".mode-nav li.active");e.length&&this.$(".mode-nav .magic-line").show().css({"margin-left":e.find("a").position().left+"px",width:e.find("a").outerWidth()})},markActiveAuxNav:function(i){e.NextUtil.DomHelper.radioClass(this.$('.aux-nav li[data-nav="'+i+'"]'),"active")},getCurrentSubmode:function(){return this.__currentSubmode},getPreviousSubmodeId:function(){return this.__submodeIdHistory[0]},openSubmode:function(i){this.__serviceProvider.get("modeManager").dismissAllDismissibles(),null===this.__submodeDefs&&(this.__submodeDefs=this.submodes());var t=(i=i||{id:"__default__"}).id||"__default__";if("true"===localStorage.getItem("forceProduction")&&(t=t.replace("localhost.","")),this.__submodeIdHistory.shift(),this.__submodeIdHistory.push(t),!(n=this.__submodeInstances[t])||n.isDeleted()){var n,a;if(n=this.__submodeDefs[t])a="function"==typeof n[1]?n[1](t):n[1],n=this.createChildContext(n[0],_.extend({$parentElement:this.$(".submodes")},a,i));else{if(!this.__submodeDefs.__id__||-1===t.indexOf("/"))return this.__window.console.log("ERROR: Tried to open unknown submode, "+t+"."),this.__submodeDefs.__default__?this.openSubmode():this.openDefaultView();a="function"==typeof(n=this.__submodeDefs.__id__)[1]?n[1](t):n[1],n=this.createChildContext(n[0],_.extend({$parentElement:this.$(".submodes"),model:this.__restModelFactory.readModel(t,n[0].CustomModelClass||e.UiCore.NodeModel)},a,i))}this.__submodeInstances[t]=n}return this.__currentSubmode===n?(i.showAlways&&this.__currentSubmode.show(i),n):this.__showSubmode(n,i)},isCurrentSubmode:function(e){return this.__currentSubmode===this.__submodeInstances[e]&&this.__currentSubmode},__showSubmode:function(e,i){return this.__currentSubmode&&(this.__currentSubmode.hide(),this.__currentSubmode.stopListening(this.__currentSubmode,"change:title")),this.__currentSubmode=e,this.__currentSubmodeId=i.id,this.listenTo(this.__currentSubmode,"change:title",this.updateTitle.bind(this)),this.refreshNav(),this.setLayout(e.layout),this.__currentSubmode.show(i),i.poppingHistory||this.__historyManager.setState({fragment:"__default__"===this.__currentSubmodeId?"":this.__urlId(this.__currentSubmodeId),mode:{id:this.modeId},submode:{id:this.__currentSubmodeId,summary:e.summarize()}}),this.__globalNav.revealSubmodeSpecificItems(),this.__currentSubmode},setLayout:function(e){this.$el.attr("data-layout",e)},__buildNav:function(i,t){t.empty(),i.get("buttons")?_.each(i.get("buttons"),function(i,n){var a=!1===(l="button"===i.type)&&void 0!==i.nameNode,o=!1===l&&!1===a&&"string"==typeof i.text&&""!==i.text,l=_.extend({is_button:l,is_name_widget:a,is_text:o,is_default:!1===l&&!1===a&&!1===o},i);t.append(e.templateModeNavItem(l)),a&&(this.__displayName=this.createChildContext(e.Widgets.DisplayName,{$replaceElement:this.$(".name-widget-goes-here"),user:i.nameNode,size:"small",color:"dark",showVipBadge:!1})),this.__navHandlers[i.name]={cb:i.handler,arg:i.args}}.bind(this)):i.get("text")&&t.html(i.get("text"))},__updateNavLabel:function(e,i){i.html(e.get("label")||""),this.$el.toggleClass("has-nav-label",!!e.get("label"))},__setupModeNav:function(i,t,n){null!==this.__currentMainNavModel&&this.__currentMainNavModel.off(void 0,void 0,this),null!==this.__currentAuxNavModel&&this.__currentAuxNavModel.off(void 0,void 0,this),null!==this.__currentNavLabelModel&&this.__currentNavLabelModel.off(void 0,void 0,this);var a=this.$(".mode-nav ul.center-nav"),o=this.$(".mode-nav ul.aux-nav"),l=this.$(".mode-nav .nav-label .label");this.$el.parent().removeClass("no-subnav"),this.__navHandlers={},i&&(this.__buildNav(i,a),this.__currentMainNavModel=i,this.__currentMainNavModel.on("change",function(){this.__buildNav(this.__currentMainNavModel,a)},this),void 0!==i.get("buttons")&&(this.modeNavSimpleScroller=this.createChildContext(e.SimpleScroller,_.extend({$replaceElement:this.$(".simple-scroller-placeholder"),$target:this.$(".mode-nav .center-nav-container")})))),t&&(this.__buildNav(t,o),this.__currentAuxNavModel=t,this.__currentAuxNavModel.on("change",function(){this.__buildNav(this.__currentAuxNavModel,o)},this)),n&&(this.__updateNavLabel(n,l),this.__currentNavLabelModel=n,this.__currentNavLabelModel.on("change",function(){this.__updateNavLabel(n,l)},this)),t||i?this.$(".mode-nav").show():(this.$(".mode-nav").hide(),this.$el.parent().addClass("no-subnav"))},__onClickNavButton:function(e){var i=$(e.currentTarget).data("nav"),t=this.__navHandlers[i];t&&t.cb(i,t.args,e)},collapseLeftAndRightColumns:function(){this.$el.removeClass("expand-left-column"),this.$el.removeClass("expand-right-column"),this.$el.parent().removeClass("filters-backbar-hack")},isLeftColumnExpanded:function(){return this.$el.hasClass("expand-left-column")},isRightColumnExpanded:function(){return this.$el.hasClass("expand-right-column")},toggleLeftColumn:function(){"mobile"===this.__platform&&(this.$el.toggleClass("expand-left-column"),this.$el.parent().toggleClass("filters-backbar-hack"),this.__globalNav.setVisibility(!this.isLeftColumnExpanded()))},toggleRightColumn:function(){"mobile"===this.__platform&&(this.$el.toggleClass("expand-right-column"),this.$el.parent().toggleClass("filters-backbar-hack"),this.__globalNav.setVisibility(!this.isRightColumnExpanded()))},__leftColumnToggleButton:function(){return{name:"toggle_left_column",handler:this.toggleLeftColumn.bind(this)}},__dismissNavLabel:function(){this.__currentNavLabelModel.set({label:""}),this.__currentNavLabelModel.trigger("dismissed")}})}({UiCore:e["@UiCore"],NextUtil:e["@NextUtil"],Widgets:e["@Widgets"],MobileBrowser:s,SimpleScroller:l,template:a,templateModeNavItem:o});return function(e){var i=e.Mode;return i.extend("LoginMode",{uiContextName:"login_mode",className:"mode login login-mode",dependencies:["uiEventReporter","leanplum","localStorage","loginManager","globalNav"],submodes:function(){return{__default__:[e.LoginFrontpageSubmode]}},initialize:function(e){i.prototype.initialize.call(this,e),-1!==location.host.indexOf("localhost.")&&"true"===this.__localStorage.getItem("forceProduction")&&this.__loginManager.isLoggedIn()&&(this.__window.location.href="/next?forceProduction=true"),this.listenTo(this,"shown",this.__uiEventReporter.flush.bind(e.uiEventReporter)),this.addToDOM()}})}({UiCore:e["@UiCore"],Mode:a,LoginFrontpageSubmode:n}).extend("DesktopLoginMode",{})});